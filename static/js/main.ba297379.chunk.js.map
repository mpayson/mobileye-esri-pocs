{"version":3,"sources":["resources/images/map.png","icons.js","resources/images/SIGN_ICON_10.png","resources/images/SIGN_ICON_20.png","resources/images/SIGN_ICON_30.png","resources/images/SIGN_ICON_40.png","resources/images/SIGN_ICON_50.png","resources/images/SIGN_ICON_60.png","resources/images/SIGN_ICON_70.png","resources/images/SIGN_ICON_80.png","resources/images/SIGN_ICON_90.png","resources/images/SIGN_ICON_100.png","resources/images/SIGN_ICON_110.png","resources/images/SIGN_ICON_120.png","resources/images/SIGN_ICON_130.png","resources/images/SIGN_ICON_140.png","resources/images/ET_BICYCLE.png","resources/images/ET_PED_ON_HW.png","stores/AppState.js","config/esri-loader-options.js","components/HistMinMaxSlideFilter.js","components/SelectFilter.js","components/PanelCard.js","components/FilterPanel.js","safety/LayerPanel.js","safety/RoutePanel.js","stores/Filters.js","utils/Utils.js","stores/Store.js","stores/HistogramStore.js","safety/SafetyStore.js","safety/SafetyConfig.js","safety/SafetyApp.js","events/EventsConfig.js","events/EventsApp.js","components/HistogramComponent.js","survey/HistogramPanel.js","survey/SurveyConfig.js","survey/SurveyApp.js","config/config.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","SESSION_ID","AppState","appConfig","redirectToReferrer","this","config","session","serializedSession","localStorage","getItem","parsed","JSON","parse","tokenExpires","Date","UserSession","removeItem","newSession","setItem","serialize","redirectUri","window","location","origin","pathname","relativeRedirectUri","beginOAuth2","clientId","appId","popup","then","_registerSession","catch","er","console","log","username","decorate","observable","displayName","computed","isAuthenticated","action","bound","login","logout","options","url","css","dojoConfig","has","HistMinMaxSlideFilter","observer","props","context","onValuesChange","newValues","min","max","store","labelFunction","value","type","label","Math","ceil","upperBoundSupplied","isLogarithmic","pow","logBase","upperBound","lowerBound","floor","lowerBoundSupplied","sliderRef","React","createRef","loadModules","HistogramRangeSlider","precision","slider","bins","values","excludedBarColor","rangeType","container","current","labelFormatFunction","listener","watch","remove","loaded","style","height","width","ref","Component","Option","SelectFilter","mode","children","slice","sort","map","o","domainMap","get","key","marginBottom","placeholder","onSelect","onValueChange","onChange","selectValue","Panel","PanelCard","title","icon","collapsible","defaultActive","header","padding","marginLeft","size","marginTop","defaultActiveKeys","bordered","expandIconPosition","className","defaultActiveKey","border","customPanelStyle","borderRadius","FilterPanel","state","activeKeys","onAccordionChange","keys","setState","onToggleClick","length","filters","f","field","filterViews","alias","isActive","color","filter","Error","getFilterView","toggleButtonText","position","top","left","display","ghost","onClick","clearFilters","float","activeKey","Text","radioStyle","lineHeight","LayerPanel","nonMainRenderer","onRadioChange","e","renderer","target","setRendererField","onSwitchChange","isChecked","radioOptions","aliasMap","rendererOptions","radioValue","rendererField","isSwitchChecked","checked","margin","disabled","strong","Group","CreateIcon","InputGroup","IndicatorTitle","text","round","abs","spanStyle","iconType","RoutePanel","closeAlert","clearRouteData","startIcon","editMode","startGraphic","component","endIcon","endGraphic","alert","safetyTimeDelta","message","description","onClose","closable","compact","_","onCreateClick","isSketchLoaded","startStr","endStr","marginRight","generateRoutes","stdTravelTime","prefix","suffix","safetyTravelTime","safetyScoreDelta","stdTravelScore","safetyTravelScore","Filter","fieldName","params","fieldInfo","caption","featureLayer","fields","find","name","where","Map","domain","getFieldDomain","codedValues","reduce","p","cv","set","code","queryFeatures","returnDistinctValues","outFields","res","features","attributes","v","fieldType","getSelectWhere","load","clear","MultiSelectFilter","wstr","join","getMultiSelectWhere","MinMaxFilter","numBins","view","lwrUprPromise","isLwr","isUpr","histPromise","Promise","resolve","queries","push","onStatisticField","outStatisticField","statisticType","getMinQuery","getMaxQuery","outStatistics","qRes","attrs","all","getHistogram","minMaxRes","rawMin","rawMax","layer","minValue","maxValue","valueExpression","histRes","maxWhere","minWhere","isMin","isMax","getMinMaxWhere","pUtils","HistogramStore","Store","appState","storeConfig","credential","layerId","layerItemId","histograms","withFilter","renderers","Object","initialRendererField","popupTemplate","layerLoaded","viewConfig","whenLayerView","lyr","lV","lyrView","forEach","onApplyFilter","debounce","layerView","effectHandler","autorun","rendererHandler","_type","rendererJsonUtils","fromJSON","mapViewDiv","MapView","FeatureLayer","promiseUtils","esriId","registerToken","toCredential","_buildAutoRunEffects","portalItem","id","basemap","layers","center","zoom","_loadLayers","user","scoreStatQuery","outStatisticFieldName","SafetyStore","stdRoute","scoreRoute","SketchVM","sketchVM","graphics","sketchListener","on","onCreateComplete","evt","graphic","setAddressFromGeocode","goTo","stopType","Locator","locationToAddress","geometry","locationType","address","error","cancel","create","RouteTask","RouteParameters","FeatureSet","SpatialReference","routeTask","routeParams","stops","outSpatialReference","WebMercator","impedanceAttribute","accumulateAttributes","solve","data","routeResults","route","symbol","add","pQuery","extent","spatialRelationship","orderByFields","returnGeometry","pModules","qres","geometryEngine","polygonBarriers","scorepolys","i","geodesicBuffer","Name","BarrierType","Attr_Miles","loading","generateStdRoute","generateScoreRoute","destroy","onStartClick","onEndClick","getRenderer","visualVariables","safetyConfig","content","Header","Content","Sider","MenuFilterIcon","filled","MenuBookmarkIcon","MenuRouteFromIcon","MenuInformationIcon","SafetyApp","collapsed","navKey","onCollapse","item","componentDidMount","modulePromise","loadPromise","mapViewRef","Search","Legend","mapView","search","ui","legend","move","panel","signin","theme","Item","minHeight","paddingLeft","paddingRight","defaultSelectedKeys","selectedKeys","span","placement","visible","mask","getContainer","background","bodyStyle","overflowY","eventsConfig","defaultSymbol","uniqueValueInfos","pedImage","bicycleImage","EventsApp","TimeSlider","layerInfos","timeSlider","loop","fullTimeExtent","timeInfo","right","bottom","HistogramComponent","createHistogram","histogram","Histogram","histRef","HistogramPanel","HistogramViews","surveyConfig","opacity","minDataValue","maxDataValue","minSize","maxSize","sign10Image","sign20Image","sign30Image","sign40Image","sign50Image","sign60Image","sign70Image","sign80Image","sign90Image","sign100Image","sign110Image","sign120Image","sign130Image","sign140Image","expressionInfos","expression","MenuHistogramIcon","SurveyApp","portalUrl","OAuth","completeOAuth2","PrivateRoute","rest","render","to","from","Home","loadScript","topComponent","linkClass","justify","align","textAlign","md","xl","cover","alt","src","MapImage","App","hash","includes","path","exact","Boolean","hostname","match","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.ba297379.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/map.05f48ce5.png\";","// export {\n//   default as DownOutline\n// } from \"@ant-design/icons/lib/outline/DownOutline\";\n\nimport RightOutline from \"@ant-design/icons/lib/outline/RightOutline\";\nimport LeftOutline from \"@ant-design/icons/lib/outline/LeftOutline\";\nimport UpOutline from \"@ant-design/icons/lib/outline/UpOutline\";\nimport DownOutline from \"@ant-design/icons/lib/outline/DownOutline\";\nimport CloseOutline from \"@ant-design/icons/lib/outline/CloseOutline\";\nimport CheckOutline from \"@ant-design/icons/lib/outline/CheckOutline\";\nimport ArrowUpOutline from \"@ant-design/icons/lib/outline/ArrowUpOutline\";\nimport ArrowDownOutline from \"@ant-design/icons/lib/outline/ArrowDownOutline\";\nimport MinusOutline from \"@ant-design/icons/lib/outline/MinusOutline\";\nimport LoadingOutline from \"@ant-design/icons/lib/outline/LoadingOutline\";\nimport CloseCircleFill from \"@ant-design/icons/lib/fill/CloseCircleFill\"\n\nexport {\n  RightOutline,\n  LeftOutline,\n  CloseOutline,\n  CheckOutline,\n  UpOutline,\n  DownOutline,\n  ArrowUpOutline,\n  ArrowDownOutline,\n  MinusOutline,\n  LoadingOutline,\n  CloseCircleFill\n}","module.exports = __webpack_public_path__ + \"static/media/SIGN_ICON_10.5806b9be.png\";","module.exports = __webpack_public_path__ + \"static/media/SIGN_ICON_20.0614d6f7.png\";","module.exports = __webpack_public_path__ + \"static/media/SIGN_ICON_30.24e1ec6c.png\";","module.exports = __webpack_public_path__ + \"static/media/SIGN_ICON_40.4db57bb3.png\";","module.exports = __webpack_public_path__ + \"static/media/SIGN_ICON_50.a484fdea.png\";","module.exports = __webpack_public_path__ + \"static/media/SIGN_ICON_60.e20224b9.png\";","module.exports = __webpack_public_path__ + \"static/media/SIGN_ICON_70.cb2a61f0.png\";","module.exports = __webpack_public_path__ + \"static/media/SIGN_ICON_80.2eff9931.png\";","module.exports = __webpack_public_path__ + \"static/media/SIGN_ICON_90.3f1c8a35.png\";","module.exports = __webpack_public_path__ + \"static/media/SIGN_ICON_100.d2e0243d.png\";","module.exports = __webpack_public_path__ + \"static/media/SIGN_ICON_110.bd979545.png\";","module.exports = __webpack_public_path__ + \"static/media/SIGN_ICON_120.8523d789.png\";","module.exports = __webpack_public_path__ + \"static/media/SIGN_ICON_130.f4e343b4.png\";","module.exports = __webpack_public_path__ + \"static/media/SIGN_ICON_140.59029177.png\";","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,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\"","import {decorate, observable, action, computed} from 'mobx';\nimport {\n  UserSession\n} from \"@esri/arcgis-rest-auth\";\n\nconst SESSION_ID = '__MOBILEYE_ESRI_POCS__';\n\nclass AppState {\n\n  redirectToReferrer = false;\n\n  constructor(appConfig){\n    this.config = appConfig;\n    this.session = null;\n    const serializedSession = localStorage.getItem(SESSION_ID);\n    if(serializedSession !== null && serializedSession !== \"undefined\"){\n      let parsed = JSON.parse(serializedSession);\n      parsed.tokenExpires = new Date(parsed.tokenExpires);\n      if(parsed.tokenExpires > new Date()){\n        this.session = new UserSession(parsed);\n      } else {\n        localStorage.removeItem(SESSION_ID);\n      }\n    }\n  }\n\n  _registerSession(newSession){\n    this.session = newSession;\n    this.redirectToReferrer = true;\n    localStorage.setItem(SESSION_ID, this.session.serialize());\n  }\n\n  login(){\n    const redirectUri = `${window.location.origin}${window.location.pathname}${this.config.relativeRedirectUri}`\n    UserSession.beginOAuth2({\n      clientId: this.config.appId,\n      redirectUri,\n      popup: true\n    })\n    .then(this._registerSession)\n    .catch(er => console.log(er));\n  }\n\n  get displayName(){\n    // for now just show user name\n    if(this.session) return this.session.username;\n    return null;\n  }\n\n  get isAuthenticated(){\n    return !!this.session;\n  }\n\n  logout(){\n    localStorage.removeItem(SESSION_ID);\n    this.session = null;\n  }\n\n}\n\ndecorate(AppState, {\n  session: observable,\n  redirectToReferrer: observable,\n  displayName: computed,\n  isAuthenticated: computed,\n  _registerSession: action.bound,\n  login: action.bound,\n  logout: action.bound\n})\n\nexport default AppState;","const options = {\n  url: \"https://jsdev.arcgis.com/4.13/\",\n  // url: \"https://js.arcgis.com/4.12/\",\n  // css: \"/jscss/my-theme/main.css\",\n  // css: true,\n  css: \"https://jsdev.arcgis.com/4.13/esri/themes/light/main.css\",\n  dojoConfig: {\n    has: {\n      \"esri-native-promise\": true\n    }\n  }\n}\n\nexport default options;","import React from 'react';\nimport {loadModules} from 'esri-loader';\nimport { observer } from \"mobx-react\";\nimport options from '../config/esri-loader-options';\n\nconst HistMinMaxSlideFilter = observer(class HistMinMaxSlideFilter extends React.Component{\n\n  constructor(props, context){\n    super(props, context);\n    this.sliderRef = React.createRef();\n    this.store = props.store;\n  }\n\n  onValuesChange = (newValues) => {\n    const [min, max] = newValues;\n    this.store.onValuesChange(min, max);\n  }\n\n  labelFunction = (value, type) => {\n    let label = ''\n    if (type === \"max\")\n      label = Math.ceil((!this.store.upperBoundSupplied && this.store.isLogarithmic) ? Math.pow(this.store.logBase,this.store.upperBound ) : this.store.upperBound);\n    if (type === \"min\") {\n      label = 0\n      if (this.store.lowerBound !== 0)\n        label = Math.floor((!this.store.lowerBoundSupplied && this.store.isLogarithmic) ? Math.pow(this.store.logBase, this.store.lowerBound) : this.store.lowerBound);\n    }\n    return label;\n  }\n\n  componentDidMount(){\n    loadModules([\n      'esri/widgets/HistogramRangeSlider',\n    ], options)\n    .then(([HistogramRangeSlider]) => {\n      const precision = this.store.isLogarithmic ? 4 : 1;\n      this.slider = new HistogramRangeSlider({\n        bins: this.store.bins,\n        min: this.store.lowerBound,\n        max: this.store.upperBound,\n        values: [\n          this.store.min || this.store.lowerBound,\n          this.store.max || this.store.upperBound\n        ],\n        excludedBarColor: \"#bfbfbf\",\n        rangeType: \"between\",\n        container: this.sliderRef.current,\n        precision\n      });\n      this.slider.labelFormatFunction = this.labelFunction;\n\n      this.listener = this.slider.watch(\"values\", this.onValuesChange);\n    })\n    .catch(er => console.log(er));\n  }\n\n  componentWillUnmount(){\n    if(this.listener) this.listener.remove();\n  }\n\n  render(){\n\n    // needed to register these as observable with mobx\n    let min = this.store.min || this.store.lowerBound;\n    let max = this.store.max || this.store.upperBound;\n\n    if(this.slider && this.store.loaded){\n      this.slider.bins = this.store.bins;\n      this.slider.min = this.store.lowerBound;\n      this.slider.max = this.store.upperBound;\n      this.slider.values = [min, max];\n    }\n\n    return(\n      <div style={{height: \"6rem\", width: \"100%\"}}>\n        <div ref={this.sliderRef}></div>\n      </div>\n    )\n  }\n});\n\nexport default HistMinMaxSlideFilter;","import React from 'react';\nimport { observer } from \"mobx-react\";\nimport { Select } from 'antd';\nconst { Option } = Select;\n\nconst SelectFilter = observer( ({store, mode}) => {\n  const children = store.options.slice().sort().map(o => {\n    let label = o;\n    if (store.domainMap.has(o)) {\n        label = store.domainMap.get(o);\n    }\n    return <Option key={o}>{label}</Option>\n  })\n  return (\n    <div style={{marginBottom: \"1rem\"}}>\n      <Select\n        mode={mode}\n        style={{ width: '100%' }}\n        placeholder=\"Please select\"\n        onSelect={mode === \"multiple\" ? null : store.onValueChange}\n        onChange={mode === \"multiple\" ? store.onValueChange : null}\n        value={store.selectValue}\n      >\n        {children}\n      </Select>\n    </div>\n  )\n})\n\nexport default SelectFilter;","import React from 'react';\nimport { Collapse, Card } from 'antd';\nimport './PanelCard.css';\nconst { Panel } = Collapse;\n\nconst PanelCard = ({title, icon, collapsible, defaultActive, children}) => {\n\n  const header = icon\n    ? <h1 style={{padding: \"0px\"}}>{icon}<span style={{marginLeft: \"10px\"}}>{title}</span></h1>\n    : <h1 style={{padding: \"0px\"}}>{title}</h1>;\n\n  if(!collapsible){\n    return (\n      <Card size=\"small\" style={{marginTop: \"10px\"}}>\n        {header}\n        {children}\n      </Card>\n    )\n  }\n\n  const defaultActiveKeys = defaultActive\n    ? ['panel-card']\n    : [];\n\n  return(\n    <Card size=\"small\" style={{marginTop: \"10px\"}}>\n      <Collapse\n        bordered={false}\n        expandIconPosition='right'\n        className='no-padding'\n        defaultActiveKey={defaultActiveKeys}>\n        <Panel\n          header={header}\n          style={{border: 0}}\n          className=\"no-padding\"\n          key=\"panel-card\">\n          {children}\n        </Panel>\n      </Collapse>\n\n    </Card>\n  )\n}\n\nexport default PanelCard;","import React from 'react';\nimport { observer } from \"mobx-react\";\nimport HistMinMaxSlideFilter from '../components/HistMinMaxSlideFilter';\nimport SelectFilter from '../components/SelectFilter';\nimport LayerFilterIcon from 'calcite-ui-icons-react/LayerFilterIcon';\nimport PanelCard from './PanelCard';\nimport { Collapse, Button } from 'antd';\nconst { Panel } = Collapse;\n\nconst getFilterView = (filter) => {\n  const f = filter;\n  switch(filter.type){\n    case 'minmax':\n      return <HistMinMaxSlideFilter store={f} key={f.field}/>\n    case 'multiselect':\n      return <SelectFilter store={f} key={f.field} mode=\"multiple\"/>\n    case 'select':\n      return <SelectFilter store={f} key={f.field}/>\n    default:\n      throw new Error(\"Unknown filter type!\");\n  }\n}\n\nconst customPanelStyle = {\n  borderRadius: 4,\n  border: 0,\n};\n\nconst FilterPanel = observer(class FilterPanel extends React.Component{\n\n  state = {\n    activeKeys: []\n  }\n\n  onAccordionChange = (keys) => {\n    this.setState({\n      activeKeys: keys\n    })\n  }\n\n  onToggleClick = () => {\n    if(this.state.activeKeys.length > 0){\n      this.setState({\n        activeKeys: []\n      });\n    } else {\n      const keys = this.props.store.filters.map(f => f.field);\n      this.setState({\n        activeKeys: keys\n      })\n    }\n  }\n\n  render(){\n    const filters = this.props.store.filters;\n    const filterViews = filters.map(f => {\n      const alias = f.isActive\n        ? <span style={{color: '#1890ff'}}><b>{f.alias}</b></span>\n        : f.alias;\n\n      return (\n        <Panel header={alias} key={f.field} style={customPanelStyle}>\n          {getFilterView(f)}\n        </Panel>\n      )\n    });\n\n    const toggleButtonText = this.state.activeKeys.length > 0\n      ? 'Close all'\n      : 'Open all';\n\n    return (\n      <PanelCard\n        title=\"Filters\"\n        icon={<LayerFilterIcon size=\"20\" style={{position: \"relative\", top: \"3px\", left: \"0px\"}}/>}\n        collapsible={true}>\n          <div style={{display: \"inline-block\", width: \"100%\"}}>\n            <Button type=\"danger\" size=\"small\" ghost  onClick={this.props.store.clearFilters}>Clear</Button>\n            <Button size=\"small\" onClick={this.onToggleClick} style={{float: \"right\"}}>{toggleButtonText}</Button>\n          </div>\n          <Collapse\n            activeKey={this.state.activeKeys}\n            bordered={false}\n            expandIconPosition='right'\n            onChange={this.onAccordionChange}>\n            {filterViews}\n          </Collapse>\n      </PanelCard>\n\n    )\n  }\n  \n});\n\nexport default FilterPanel;","import React from 'react';\nimport { observer } from \"mobx-react\";\nimport {\n  Switch,\n  Radio,\n  Typography } from 'antd';\nimport FilterPanel from '../components/FilterPanel';\nimport PanelCard from '../components/PanelCard';\nimport LayerIcon from 'calcite-ui-icons-react/LayerIcon';\n\nconst { Text } = Typography;\n\nconst radioStyle = {\n  display: 'block',\n  height: '30px',\n  lineHeight: '30px',\n};\n\nconst LayerPanel = observer(class LayerPanel extends React.Component{\n\n  nonMainRenderer = 'harsh_cornering_ratio';\n\n  onRadioChange = (e) => {\n    let renderer = e.target.value;\n    this.nonMainRenderer = renderer;\n    this.props.store.setRendererField(renderer);\n  }\n\n  onSwitchChange = (isChecked) => {\n    if(isChecked){\n      this.props.store.setRendererField('eventvalue');\n    } else {\n      this.props.store.setRendererField(this.nonMainRenderer);\n    }\n  }\n\n  render(){\n\n    let radioOptions;\n    if(this.props.store.aliasMap){\n      radioOptions = this.props.store.rendererOptions\n        .filter(o => o !== 'eventvalue')\n        .map(o => \n          <Radio value={o} key={o} style={radioStyle}>{this.props.store.aliasMap.get(o)}</Radio>\n        )\n    }\n\n    let radioValue = this.props.store.rendererField === 'eventvalue'\n      ? this.nonMainRenderer\n      : this.props.store.rendererField;\n\n    const isSwitchChecked = this.props.store.rendererField === 'eventvalue';\n\n    return (\n      <>\n        <PanelCard\n          icon={<LayerIcon size=\"20\" style={{position: \"relative\", top: \"4px\", left: \"0px\"}}/>}\n          title=\"Data\"\n          collapsible={true}\n          defaultActive={true}>\n          <div>\n            <Switch\n              onChange={this.onSwitchChange}\n              checked={isSwitchChecked}\n              style={{float: \"left\", marginTop: \"1px\"}}/>\n            <h3 style={{display: \"inline-block\", margin: \"0px 0px 2px 10px\"}}>Road Safety Score</h3>\n          </div>\n          <p style={{margin: \"10px 0px 5px 0px\"}}><Text disabled={isSwitchChecked} strong> Contributing factors</Text></p>\n          <Radio.Group\n            disabled={isSwitchChecked}\n            onChange={this.onRadioChange}\n            value={radioValue}>\n            {radioOptions}\n          </Radio.Group>\n        </PanelCard>\n        <FilterPanel store={this.props.store}/>\n      </>\n    )\n  }\n\n});\n\nexport default LayerPanel;\n","import React from 'react';\nimport { observer } from \"mobx-react\";\nimport {\n  Input,\n  Button,\n  Icon,\n  Statistic,\n  Card,\n  Divider,\n  Alert\n} from 'antd';\nimport PinIcon from 'calcite-ui-icons-react/PinPlusIcon';\n\nconst CreateIcon = () => (\n  <PinIcon size=\"17\"/>\n)\n\nconst InputGroup = Input.Group;\n\n\nconst IndicatorTitle = ({title, value}) => {\n  const text = value || value === 0\n    ? ` ${Math.round(Math.abs(value))}%`\n    : ' - - %';\n  let spanStyle = {float: 'right'};\n  let iconType = 'arrow-down';\n  if(value && value > 0){\n    spanStyle.color = '#f5222d';\n    iconType = 'arrow-up';\n  } else if (value && value < 0){\n    spanStyle.color = '#52c41a';\n    iconType = 'arrow-down';\n  }\n  return (\n    <div>\n      {title}\n      <span style={spanStyle}>\n        <Icon type={iconType}/>\n        <b>{text}</b>\n      </span>\n    </div>\n  )\n}\n\nconst RoutePanel = observer(class RoutePanel extends React.Component{\n\n  componentWillUnmount(){\n    this.props.store.clearRouteData();\n  }\n\n  closeAlert = () => {\n    this.props.store.clearRouteData();\n  }\n\n  render(){\n    const store = this.props.store;\n\n    const startIcon = store.editMode === 'start' || store.startGraphic\n      ? <Icon type='close'/>\n      : <Icon component={CreateIcon} />;\n    \n    const endIcon = store.editMode === 'end' || store.endGraphic\n      ? <Icon type='close'/>\n      : <Icon component={CreateIcon} />\n\n    const alert = store.safetyTimeDelta && store.safetyTimeDelta > 25\n      ? (\n        <Alert\n        style={{marginBottom: \"10px\"}}\n        message=\"Unrealistic Results\"\n        description=\"Who wants to drive this much? Close this alert to reset\"\n        type=\"warning\"\n        onClose={this.closeAlert}\n        closable/>\n      )\n      : null;\n\n    console.log(store.safetyTimeDelta && store.safetyTimeDelta < 5);\n\n    return(\n      <>\n        <p>Route Start</p>\n        <InputGroup compact style={{marginBottom: \"15px\"}}>\n          <Button\n            style={{padding: \"0px 10px\"}}\n            onClick={_ => store.onCreateClick('start')}\n            disabled={!store.isSketchLoaded}>\n            {startIcon}\n          </Button>\n          <Input\n            style={{width: 'calc(100% - 40px)'}}\n            value={store.startStr}>\n          </Input>\n        </InputGroup>\n        <p>Route End</p>\n        <InputGroup compact style={{marginBottom: \"30px\"}}>\n          <Button\n            style={{padding: \"0px 10px\"}}\n            onClick={_ => store.onCreateClick('end')}\n            disabled={!store.isSketchLoaded}>\n            {endIcon}\n          </Button>\n          <Input\n            style={{width: 'calc(100% - 40px)'}}\n            value={store.endStr}>\n          </Input>\n        </InputGroup>\n        <Button\n          size=\"large\"\n          style={{width: \"65%\", marginRight: \"5px\"}}\n          disabled={!(store.startGraphic && store.endGraphic)}\n          type=\"primary\"\n          onClick={store.generateRoutes}>\n          Generate routes\n        </Button>\n        <Button\n          type=\"danger\"\n          size=\"large\"\n          disabled={!(store.startGraphic || store.endGraphic || store.stdTravelTime)}\n          ghost\n          onClick={store.clearRouteData}>\n            Clear\n        </Button>\n        <Divider/>\n        {alert}\n        <Card\n          title={<IndicatorTitle title=\"Travel Time\" value={store.safetyTimeDelta}/>}\n          size=\"small\"\n          style={{marginBottom: '15px'}}>\n          <Statistic\n            title=\"Without accounting for risk\"\n            value={store.stdTravelTime ? store.stdTravelTime : ' - - '}\n            precision={0}\n            prefix={<Icon type=\"minus\" style={{color: 'rgb(94, 43, 255)'}}/>}\n            suffix=\"min\"\n          />\n          <Statistic\n            title=\"Accounting for risk\"\n            value={store.safetyTravelTime ? store.safetyTravelTime : ' - - '}\n            precision={0}\n            prefix={<Icon type=\"minus\" style={{color: \"rgb(227, 69, 143)\"}}/>}\n            suffix=\"min\"\n          />\n        </Card>\n        <Card\n          title={<IndicatorTitle title=\"Travel Safety Score\" value={store.safetyScoreDelta}/>}\n          size=\"small\">\n          <Statistic\n            title=\"Without accounting for risk\"\n            value={store.stdTravelScore ? store.stdTravelScore : ' - - '}\n            precision={2}\n            prefix={<Icon type=\"minus\" style={{color: 'rgb(94, 43, 255)'}}/>}\n          />\n          <Statistic\n            title=\"Accounting for risk\"\n            value={store.safetyTravelScore ? store.safetyTravelScore : ' - - '}\n            precision={2}\n            prefix={<Icon type=\"minus\" style={{color: \"rgb(227, 69, 143)\"}}/>}\n          />\n        </Card>\n      </>\n    ) \n  }\n});\n\nexport default RoutePanel;","import { decorate, observable, action, computed } from 'mobx';\nimport {loadModules} from 'esri-loader';\nimport options from '../config/esri-loader-options';\nimport {getMinMaxWhere, getMultiSelectWhere, getSelectWhere} from '../utils/Utils';\n\nconst getMaxQuery = (field) => ({\n  onStatisticField: field,\n  outStatisticField: `MAX_${field}`,\n  statisticType: 'max'\n});\nconst getMinQuery = (field) => ({\n  onStatisticField: field,\n  outStatisticField: `MIN_${field}`,\n  statisticType: 'min'\n});\n\nclass Filter {\n  constructor(fieldName, params = null){\n    this.field = fieldName;\n    this.fieldInfo = {};\n    this.caption = (params !== null && \"caption\" in params)?  params.caption : null;\n  }\n  load(featureLayer){\n    if(!featureLayer.loaded){\n      throw new Error(\"Please wait until the layer is loaded\");\n    }\n    this.fieldInfo = featureLayer.fields.find(f => f.name === this.field);\n  }\n  get alias(){\n    if (this.caption !== null) return this.caption;\n    if(this.fieldInfo) return this.fieldInfo.alias;\n    return null;\n  }\n\n  get where(){\n    return null;\n  }\n  \n  get isActive(){\n    return !!this.where;\n  }\n\n}\n\ndecorate(Filter, {\n  fieldInfo: observable,\n  alias: computed,\n  where: computed,\n  isActive: computed\n})\n\nclass SelectFilter extends Filter{\n  type = 'select';\n  loaded = false;\n  options = [];\n  selectValue = null;\n  domainMap = new Map();\n\n  load(featureLayer){\n    super.load(featureLayer);\n    const domain = featureLayer.getFieldDomain(this.field);\n    if(domain){\n      this.domainMap = domain.codedValues.reduce((p, cv) => {\n        p.set(cv.code, cv.name);\n        return p;\n      }, new Map());\n    }\n    featureLayer.queryFeatures({\n      where: \"1=1\",\n      returnDistinctValues: true,\n      outFields: [this.field]\n    }).then(res => {\n      this.options = res.features.map(f => \n        f.attributes[this.field]\n      ).sort();\n      this.loaded = true;\n    });\n  }\n\n  onValueChange(v){\n    if(this.selectValue === v){\n      this.selectValue = null;\n    } else {\n      this.selectValue = v;\n    }\n  }\n\n  clear(){\n    this.selectValue = null;\n  }\n\n  get where(){\n    return getSelectWhere(this.field, this.selectValue, this.fieldInfo.type);\n  }\n\n}\n\ndecorate(SelectFilter, {\n  options: observable,\n  loaded: observable,\n  selectValue: observable,\n  load: action.bound,\n  where: computed,\n  onValueChange: action.bound,\n  clear: action.bound\n})\n\nclass MultiSelectFilter extends SelectFilter{\n  \n  type = 'multiselect';\n  selectValue = [];\n\n  onValueChange(v){\n    this.selectValue = v;\n  }\n\n  clear(){\n    this.selectValue = [];\n  }\n  \n  get where(){\n    return getMultiSelectWhere(this.field, this.selectValue, this.fieldInfo.type);\n  }\n\n};\n\ndecorate(MultiSelectFilter, {\n  onValueChange: action.bound,\n  clear: action.bound,\n  where: computed\n})\n\nclass MinMaxFilter extends Filter{\n\n  type = 'minmax';\n  bins = [];\n  loaded = false;\n  min = null;\n  max = null;\n\n  constructor(fieldName, params){\n    super(fieldName);\n    this.lowerBound = params.lowerBound || null;\n    this.upperBound = params.upperBound || null;\n    this.upperBoundSupplied = this.upperBound !== null;\n    this.lowerBoundSupplied = this.lowerBound !== null;\n    this.logBase = 10;\n    this.isLogarithmic = params.isLogarithmic || false;\n    this.numBins = (typeof params.numBins === 'undefined') ? 50 : params.numBins;\n    this.bins = [];\n    this.loaded = false;\n  }\n  load(featureLayer, view){\n    super.load(featureLayer);\n    const field = this.field;\n\n    const isLwr = this.lowerBound || this.lowerBound === 0;\n    const isUpr = this.upperBound || this.upperBound === 0;\n\n    let histPromise = loadModules([\n      'esri/renderers/smartMapping/statistics/histogram'\n    ], options);\n\n    let lwrUprPromise;\n    if(isLwr && isUpr){\n      lwrUprPromise = Promise.resolve([this.lowerBound, this.upperBound]);\n    } else {\n      let queries = [];\n      if(!isLwr) queries.push(getMinQuery(field));\n      if(!isUpr) queries.push(getMaxQuery(field));\n      lwrUprPromise = featureLayer.queryFeatures({\n        where: \"1=1\",\n        outStatistics: queries\n      }).then(qRes => {\n\n        const attrs = qRes.features[0].attributes;\n        return [\n          isLwr ? this.lowerBound : attrs[`MIN_${field}`],\n          isUpr ? this.upperBound : attrs[`MAX_${field}`]\n        ]\n      })\n    }\n\n    Promise.all([histPromise, lwrUprPromise])\n      .then(([[getHistogram], minMaxRes]) => {\n        const [rawMin, rawMax] = minMaxRes;\n        this.lowerBound = Math.floor(rawMin);\n        this.upperBound = Math.ceil(rawMax);\n        if (this.isLogarithmic){\n          if (!this.lowerBoundSupplied && this.lowerBound !== 0)\n            this.lowerBound = Math.floor((Math.log(this.lowerBound) / Math.log(this.logBase)) * 100) / 100;\n          if (!this.upperBoundSupplied && this.upperBound !== 0)\n            this.upperBound = Math.ceil((Math.log(this.upperBound) / Math.log(this.logBase)) * 100) / 100;\n        }\n\n        return getHistogram({\n          layer: featureLayer,\n          field: field,\n          numBins: this.numBins,\n          minValue: this.lowerBound,\n          maxValue: this.upperBound,\n          valueExpression: this.isLogarithmic ? `IIf($feature.${this.field} != 0,Log($feature.${this.field}) / Log(${this.logBase}),0)` : `$feature.${this.field}`,\n          view\n        })\n      })\n      .then(histRes => {\n        this.bins = histRes.bins;\n        this.loaded = true;\n      })\n  }\n  onValuesChange(min, max){\n    this.min = min;\n    this.max = max;\n  }\n\n  clear(){\n    this.min = this.lowerBound;\n    this.max = this.upperBound;\n  }\n\n  get where(){\n    let where;\n    if(this.min <= this.lowerBound && this.max >= this.upperBound){\n      where = null;\n    } else {\n      let maxWhere = (!this.upperBoundSupplied && this.isLogarithmic) ? Math.pow(this.logBase, this.max) : this.max;\n      let minWhere = (!this.lowerBoundSupplied && this.isLogarithmic) ? Math.pow(this.logBase, this.min) : this.min;\n      where = getMinMaxWhere(this.field, minWhere, maxWhere);\n    }\n    return where;\n  }\n}\ndecorate(MinMaxFilter, {\n  min: observable,\n  max: observable,\n  loaded: observable,\n  fieldInfo: observable,\n  where: computed,\n  load: action.bound,\n  onValuesChange: action.bound,\n  clear: action.bound\n})\n\nexport {SelectFilter, MinMaxFilter, MultiSelectFilter}","const getMinMaxWhere = (field, min, max) => {\n  const isMin = min || min === 0;\n  const isMax = max || max === 0;\n  let where = null;\n  if(isMin && isMax){\n    where = field + \" <= \" + max + \" AND \" + field + \" >= \" + min;\n  } else if(isMax){\n    where = field + \" <= \" + max;\n  } else if(isMin){\n    where = field + \" >= \" + min;\n  }\n  return where;\n}\n\nconst getMultiSelectWhere = (field, values, fieldType) => {\n  if(!values || values.length < 1) return null;\n  let where = null;\n  if(fieldType === 'string') {\n    const wstr = values.join(\"','\");\n    where = `${field} IN ('${wstr}')`;\n  } else {\n    const wstr = values.join(\",\");\n    where =  `${field} IN (${wstr})`;\n  }\n  return where;\n}\n\nconst getSelectWhere = (field, value, fieldType) => {\n  if(!value) return null;\n  let where = null;\n  where = (fieldType === 'string')\n    ? `${field} = '${value}'` :\n    `${field} = ${value}`;\n  return where\n}\n\nexport {getMinMaxWhere, getMultiSelectWhere, getSelectWhere};","import {decorate, observable, action, computed, autorun} from 'mobx';\nimport { MinMaxFilter, MultiSelectFilter, SelectFilter } from './Filters';\nimport { HistogramStore } from './HistogramStore';\nimport {loadModules} from 'esri-loader';\nimport options from '../config/esri-loader-options';\n\nlet pUtils;\n\nclass Store {\n\n  credential = {};\n  aliasMap = null;\n\n  constructor(appState, storeConfig){\n    this.appState = appState;\n    this.layerId = storeConfig.layerItemId;\n    this.filters = storeConfig.filters.map(f => {\n      switch(f.type){\n        case 'minmax':\n          return new MinMaxFilter(f.name, f.params)\n        case 'multiselect':\n          return new MultiSelectFilter(f.name, f.params);\n        case 'select':\n          return new SelectFilter(f.name, f.params);\n        default:\n          throw new Error(\"Unknown filter type!\")\n      }\n    });\n    this.histograms =  (typeof storeConfig.histograms === 'undefined') ? [] :\n      storeConfig.histograms.map(f => {\n        if(f.withFilter) {        \n          return new MinMaxFilter(f.name, f.params);\n        } else {\n          return new HistogramStore(f.name, f.params);\n        }\n      });\n    \n    this.renderers = storeConfig.renderers;\n    this.rendererOptions = [...Object.keys(this.renderers)];\n    this.rendererField = storeConfig.initialRendererField;\n    this.popupTemplate = storeConfig.popupTemplate;\n    this.layerLoaded = false;\n    this.viewConfig = storeConfig.viewConfig;\n  }\n\n  _loadLayers(){\n    this.view.whenLayerView(this.lyr)\n    .then(lV => {\n      this.lyrView = lV;\n      this.filters.forEach(f => f.load(this.lyr, this.view));\n      this.histograms.forEach(f => f.load(this.lyr, this.view));\n      this.aliasMap = this.lyr.fields.reduce((p, f) => {\n        p.set(f.name, f.alias);\n        return p;\n      }, new Map());\n      this.layerLoaded = true;\n    });\n  }\n\n  _buildAutoRunEffects(){\n    const onApplyFilter = pUtils.debounce(function(layerView, where){\n      layerView.filter = {where};\n    });\n    this.effectHandler = autorun(_ => {\n      const where = this.where;\n      if(this.lyrView && onApplyFilter){\n        onApplyFilter(this.lyrView, where);\n      }\n    });\n    this.rendererHandler = autorun(_ => {\n      const rendererField = this.rendererField;\n      if(!this.lyr) return;\n      const renderer = this.renderers[rendererField];\n      if(renderer._type === 'jsapi') {\n        this.lyr.renderer = renderer;\n        return;\n      } \n      loadModules(['esri/renderers/support/jsonUtils'], options)\n        .then(([rendererJsonUtils]) => {\n          this.lyr.renderer = rendererJsonUtils.fromJSON(this.renderers[rendererField]);\n        });\n    })\n  }\n\n  setRendererField(field){\n    this.rendererField = field;\n  }\n\n  load(mapViewDiv){\n    \n    return loadModules([\n      'esri/Map',\n      'esri/views/MapView',\n      'esri/layers/FeatureLayer',\n      'esri/core/promiseUtils',\n      'esri/identity/IdentityManager',\n      'esri/renderers/support/jsonUtils'\n    ], options)\n    .then(([Map, MapView, FeatureLayer, promiseUtils, esriId, rendererJsonUtils]) => {\n\n      esriId.registerToken(this.appState.session.toCredential());\n\n      pUtils = promiseUtils; \n      this._buildAutoRunEffects();\n\n      let renderer;\n      if (this.renderers[this.rendererField]._type === 'jsapi')\n        renderer = this.renderers[this.rendererField];\n      else\n        renderer = rendererJsonUtils.fromJSON(this.renderers[this.rendererField]);\n\n      this.lyr = new FeatureLayer({\n        portalItem: {id: this.layerId},\n        renderer: renderer,\n\n        popupTemplate: this.popupTemplate\n      });\n      this.map = new Map({\n        basemap: 'dark-gray-vector',\n        layers: [this.lyr]\n      });\n      this.view = new MapView({\n        map: this.map,\n        container: mapViewDiv,\n        center: this.viewConfig.center,\n        zoom: this.viewConfig.zoom\n      });\n      this._loadLayers();\n      return this.view;\n    });\n  }\n\n  clearFilters(){\n    this.filters.forEach(f => f.clear());\n  }\n\n  get where(){\n    const where = this.filters\n      .filter(f => !!f.where)\n      .map(f => f.where)\n      .join(' AND ') +\n      this.histograms\n      .filter(f => !!f.where)\n      .map(f => f.where)\n      .join(' AND '); \n    return where ? where : \"1=1\";\n  }\n}\n\ndecorate(Store, {\n  user: observable,\n  rendererField: observable,\n  layerLoaded: observable,\n  aliasMap: observable,\n  where: computed,\n  load: action.bound,\n  setRendererField: action.bound,\n  _loadLayers: action.bound,\n  clearFilters: action.bound\n});\n\nexport default Store;","import { decorate, observable, action } from 'mobx';\nimport {loadModules} from 'esri-loader';\nimport options from '../config/esri-loader-options';\n\nclass HistogramStore {\n\n    bins = [];\n    loaded = false;\n    \n\n    constructor(fieldName, params){\n      this.field = fieldName;\n      this.fieldInfo = {};\n      this.log = params.log || false;\n      this.bins = [];\n      this.loaded = false;\n    }\n\n    load(featureLayer){\n      if(!featureLayer.loaded){\n            throw new Error(\"Please wait until the layer is loaded\");\n      }\n      this.fieldInfo = featureLayer.fields.find(f => f.name === this.field);\n      const field = this.field;\n  \n  \n      let histPromise = loadModules([\n        'esri/widgets/Histogram'\n      ], options);\n  \n  \n      Promise.all([histPromise])\n        .then(([[getHistogram]]) => {\n          return getHistogram({\n            layer: featureLayer,\n            field: field,\n//            normalizationField: field,\n            numBins: 140,\n            minValue : 0,\n            maxValue : 140,\n          })\n        })\n        .then(histRes => {\n            this.bins = histRes.bins;\n//            console.log(\"ORK 1\", this.bins)\n            this.loaded = true;})\n    }\n  \n  }\n  decorate(HistogramStore, {\n    loaded: observable,\n    fieldInfo: observable,\n    load: action.bound,\n    bins:observable,\n  })\n\n\n  export {HistogramStore}","import {decorate, observable, action } from 'mobx';\nimport {loadModules} from 'esri-loader';\nimport options from '../config/esri-loader-options';\nimport Store from '../stores/Store';\nimport { message } from 'antd';\n\nmessage.config({\n  // top: \"calc(100vh - 70px)\"\n  top: \"75px\"\n})\n\nconst scoreStatQuery = {\n  onStatisticField: 'eventvalue',\n  outStatisticFieldName: 'score_sum',\n  statisticType: 'sum'\n}\n\nclass SafetyStore extends Store {\n  editMode = null;\n  startGraphic = null;\n  endGraphic = null;\n  startStr = '';\n  endStr = '';\n  isSketchLoaded = false;\n\n  stdRoute = null;\n  stdTravelTime = null;\n  stdTravelScore = null;\n  scoreRoute = null;\n  safetyTravelTime = null;\n  safetyTravelScore = null;\n\n  load(mapViewDiv){\n    return super.load(mapViewDiv)\n      .then(view => {\n        loadModules(['esri/widgets/Sketch/SketchViewModel'], options)\n          .then(([SketchVM]) => {\n            this.sketchVM = new SketchVM({\n              view,\n              layer: view.graphics\n            });\n            this.sketchListener = this.sketchVM.on(\"create\", this.onCreateComplete);\n            this.isSketchLoaded = true;\n          });\n        return view;\n      })\n  }\n\n  clearRouteData(){\n    if(this.startGraphic){\n      this.view.graphics.remove(this.startGraphic);\n      this.startGraphic = null;\n    }\n    if(this.endGraphic){\n      this.view.graphics.remove(this.endGraphic);\n      this.endGraphic = null;\n    }\n    if(this.stdRoute){\n      this.view.graphics.remove(this.stdRoute);\n      this.stdRoute = null;\n    }\n    if(this.scoreRoute){\n      this.view.graphics.remove(this.scoreRoute);\n      this.scoreRoute = null;\n    }\n    this.editMode = null;\n    this.startStr = '';\n    this.endStr = '';\n    this.stdTravelTime = null;\n    this.stdTravelScore = null;\n    this.safetyTravelTime = null;\n    this.safetyTravelScore = null;\n  }\n\n  onCreateComplete(evt){\n    if(evt.state !== 'complete') return;\n    if(this.editMode === 'start'){\n      this.startGraphic = evt.graphic;\n      this.setAddressFromGeocode('start', this.startGraphic);\n    } else if (this.editMode === 'end'){\n      this.endGraphic = evt.graphic;\n      this.setAddressFromGeocode('end', this.endGraphic);\n    } else {\n      this.view.graphics.remove(evt.graphic);\n    }\n    if(this.startGraphic && this.endGraphic){\n      this.view.goTo([this.startGraphic, this.endGraphic])\n    }\n  }\n\n  setAddressFromGeocode(stopType, graphic){\n\n    loadModules(['esri/tasks/Locator'], options)\n      .then(([Locator]) => {\n        const locator = new Locator({\n          url: \"https://geocode.arcgis.com/arcgis/rest/services/World/GeocodeServer\"\n        });\n        return locator.locationToAddress({\n          location: graphic.geometry,\n          locationType: \"street\"\n        });\n      })\n      .then(res => {\n        if(stopType === 'start') this.startStr = res.address;\n        else if(stopType === 'end') this.endStr = res.address;\n      })\n      .catch(er => {\n        message.error('Error converting point to an address, please retry!')\n      });\n  }\n\n  // don't like this logic, re-write at some point #refactor!\n  onCreateClick(e){\n    if(e === 'start' && this.startGraphic){\n      this.view.graphics.remove(this.startGraphic);\n      this.startGraphic = null;\n      this.editMode = e;\n      this.startStr = '';\n    }\n    if(e === 'end' && this.endGraphic){\n      this.view.graphics.remove(this.endGraphic);\n      this.endGraphic = null;\n      this.editMode = e;\n      this.endStr = '';\n    }\n    if(this.editMode === e){\n      this.editMode = null;\n      if(this.sketchVM.state === 'active') {\n        this.sketchVM.cancel();\n      }\n    } else {\n      this.sketchVM.create(\"point\");\n      this.editMode = e;\n    }\n  }\n\n  generateStdRoute(){\n    return loadModules([\n      'esri/tasks/RouteTask',\n      'esri/tasks/support/RouteParameters',\n      'esri/tasks/support/FeatureSet',\n      'esri/geometry/SpatialReference'\n    ], options)\n    .then(([\n      RouteTask,\n      RouteParameters,\n      FeatureSet,\n      SpatialReference\n    ]) => {\n      const routeTask = new RouteTask({\n        url: \"https://route.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World/solve\"\n      });\n  \n      const routeParams = new RouteParameters({\n        stops: new FeatureSet(),\n        outSpatialReference: SpatialReference.WebMercator,\n        impedanceAttribute: 'Miles',\n        accumulateAttributes: ['TravelTime']\n      });\n  \n      routeParams.stops.features.push(this.startGraphic);\n      routeParams.stops.features.push(this.endGraphic);\n  \n      return routeTask.solve(routeParams)\n    })\n    .then(data => {\n      console.log('std', data);\n      if(this.stdRoute) this.view.graphics.remove(this.stdRoute);\n      this.stdRoute = data.routeResults[0].route;\n      this.stdRoute.symbol = {\n        type: \"simple-line\",\n        color: [94, 43, 255, 1],\n        width: 3\n      };\n      this.stdTravelTime = this.stdRoute.attributes['Total_TravelTime'];\n      this.view.graphics.add(this.stdRoute);\n      return this.lyrView.queryFeatures({\n        where: \"1=1\",\n        geometry: this.stdRoute.geometry,\n        outStatistics: [scoreStatQuery]\n      })\n    })\n    .then(res => {\n      if(res.features && res.features.length){\n        this.stdTravelScore = res.features[0].attributes['score_sum']\n      }\n    });\n  }\n\n  generateScoreRoute(){\n\n    const pQuery = this.lyrView.queryFeatures({\n      where: \"eventvalue > 0\",\n      geometry: this.view.extent,\n      spatialRelationship: 'contains',\n      orderByFields: ['eventvalue DESC'],\n      returnGeometry: true,\n      outFields: ['eventvalue', 'OBJECTID']\n    });\n\n    const pModules = loadModules([\n      'esri/tasks/RouteTask',\n      'esri/tasks/support/RouteParameters',\n      'esri/tasks/support/FeatureSet',\n      'esri/geometry/SpatialReference',\n      \"esri/geometry/geometryEngine\"\n    ], options);\n\n    return Promise.all([pQuery, pModules])\n    .then(([\n      qres,\n      [ RouteTask, RouteParameters, FeatureSet, SpatialReference,geometryEngine]\n    ]) => {\n\n      const routeTask = new RouteTask({\n        url: \"https://route.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World/solve\"\n      });\n  \n      const routeParams = new RouteParameters({\n        stops: new FeatureSet(),\n        polygonBarriers: new FeatureSet(),\n        outSpatialReference: SpatialReference.WebMercator,\n        impedanceAttribute: 'Miles',\n        accumulateAttributes: ['TravelTime']\n      });\n  \n      routeParams.stops.features.push(this.startGraphic);\n      routeParams.stops.features.push(this.endGraphic);\n\n      var scorepolys = qres.features.slice(0,100).map((f,i) => {\n        var scorebuffer = {\n          geometry: geometryEngine.geodesicBuffer(f.geometry, 15, \"meters\"),\n          attributes: {\n            Name: f.attributes['ObjectId'],\n            BarrierType: 1,\n            Attr_Miles: f.attributes['eventvalue'] / 2\n          },\n        }\n        return scorebuffer;  \n      });\n      routeParams.polygonBarriers.features = scorepolys;\n\n      return routeTask.solve(routeParams)\n    })\n    .then(data => {\n      console.log('score', data);\n      if(this.scoreRoute) this.view.graphics.remove(this.scoreRoute);\n      this.scoreRoute = data.routeResults[0].route;\n      this.scoreRoute.symbol = {\n        type: \"simple-line\",\n        color: [227, 69, 143, 1],\n        width: 3\n      };\n      this.safetyTravelTime = this.scoreRoute.attributes['Total_TravelTime'];\n      this.view.graphics.add(this.scoreRoute);\n      return this.lyrView.queryFeatures({\n        where: \"1=1\",\n        geometry: this.scoreRoute.geometry,\n        outStatistics: [scoreStatQuery]\n      })\n    })\n    .then(res => {\n      if(res.features && res.features.length){\n        this.safetyTravelScore = res.features[0].attributes['score_sum']\n      }\n    });\n  }\n\n  // todo refactor to add to map and zoom to the extents then query data\n  generateRoutes(){\n    message.loading('Generating routes!', 0);\n    loadModules([\n      'esri/tasks/RouteTask',\n      'esri/tasks/support/RouteParameters',\n      'esri/tasks/support/FeatureSet',\n      'esri/geometry/SpatialReference'\n    ], options)\n    .then(_ => \n      Promise.all([\n        this.generateStdRoute(),\n        this.generateScoreRoute()\n      ])\n    )\n    .then( _ => {\n      this.view.goTo([this.scoreRoute, this.stdRoute]);\n      message.destroy();\n    })\n    .catch(_ => {\n      message.destroy();\n      message.error('Error generating routes, please retry!');\n    })\n\n  }\n\n  get safetyScoreDelta(){\n    if(!this.stdTravelScore || !this.safetyTravelScore){\n      return null;\n    }\n    return 100 * ((this.safetyTravelScore - this.stdTravelScore) / this.stdTravelScore);\n  }\n\n  get safetyTimeDelta(){\n  if(!this.stdTravelTime || !this.safetyTravelTime){\n    return null;\n  }\n  return 100 * ((this.safetyTravelTime - this.stdTravelTime) / this.stdTravelTime);\n}\n\n}\n\ndecorate(SafetyStore, {\n  editMode: observable,\n  startGraphic: observable,\n  endGraphic: observable,\n  startStr: observable,\n  endStr: observable,\n  isSketchLoaded: observable,\n  stdTravelTime: observable,\n  safetyTravelTime: observable,\n  stdTravelScore: observable,\n  safetyTravelScore: observable,\n  onStartClick: action.bound,\n  onEndClick: action.bound,\n  load: action.bound,\n  onCreateComplete: action.bound,\n  setAddressFromGeocode: action.bound,\n  generateRoutes: action.bound,\n  generateStdRoute: action.bound,\n  clearRouteData: action.bound\n})\n\nexport default SafetyStore;","const getRenderer = (field) => ({\n  _type: \"jsapi\",\n  type: \"simple\",\n  symbol: { type: \"simple-line\", width: \"2.5px\" },\n  visualVariables: [{\n    type: \"color\",\n    field,\n    stops: [\n      { value: 1, color: [13,38,68,255], label: '1' },\n      { value: 2, color: [56,98,122,255], label: null },\n      { value: 4, color: [98,158,176,255], label: '4' },\n      { value: 8, color: [177,205,194,255], label: null },\n      { value: 16, color: [255,252,212,255], label: '16'},\n    ]\n  }]\n})\n\nconst safetyConfig = {\n  layerItemId: '534f26d211154527b31c976ea6b5eafe',\n  initialRendererField: 'eventvalue',\n  renderers: {\n    'eventvalue': getRenderer('eventvalue'),\n    'harsh_cornering_ratio': getRenderer('harsh_cornering_ratio'),\n    'harsh_acc_ratio': getRenderer('harsh_acc_ratio'),\n    'pedestrians_density': getRenderer('pedestrians_density'),\n    'bicycles_density': getRenderer('bicycles_density'),\n    'speeding_ratio': getRenderer('speeding_ratio'),\n    'avarge_speed': {\n      _type: \"jsapi\",\n      type: \"simple\",\n      symbol: { type: \"simple-line\" },\n      visualVariables: [{\n        type: \"color\",\n        field: 'avarge_speed',\n        stops: [\n          { value: 0, color: [13,38,68,255], label: '0' },\n          { value: 25, color: [56,98,122,255], label: null },\n          { value: 50, color: [98,158,176,255], label: '50' },\n          { value: 75, color: [177,205,194,255], label: null },\n          { value: 100, color: [255,252,212,255], label: '100'},\n        ]\n      }]\n    }\n  },\n  filters: [\n      //lowerBound: 0, upperBound: 100,\n    {name: 'eventvalue', type: 'minmax', params: {isLogarithmic: true, log: true}},\n    {name: 'harsh_cornering_ratio', type: 'minmax', params: {isLogarithmic: true, log: true}},\n    {name: 'harsh_acc_ratio', type: 'minmax', params: {isLogarithmic: true, log: true}},\n    {name: 'pedestrians_density', type: 'minmax', params: {isLogarithmic: true, log: true}},\n    {name: 'bicycles_density', type: 'minmax', params: {isLogarithmic: true, log: true}},\n    {name: 'speeding_ratio', type: 'minmax', params: {isLogarithmic: true, log: true}},\n    {name: 'avarge_speed', type: 'minmax', params: {isLogarithmic: true, log: true}}\n  ],\n  popupTemplate: {\n    title: \"Hello world!\",\n    content: \"Road safety score: <b>{eventvalue}</b>\"\n  },\n  viewConfig: {\n    center: [-74.00157, 40.71955],\n    zoom: 12\n  }\n\n}\n\nexport default safetyConfig;","import React from 'react'\nimport { observer } from \"mobx-react\";\nimport { Layout, Menu, Drawer, Icon, Row, Col } from 'antd';\nimport LayerFilterIcon from 'calcite-ui-icons-react/LayersIcon';\nimport BookmarkIcon from 'calcite-ui-icons-react/BookmarkIcon';\nimport RouteFromIcon from 'calcite-ui-icons-react/RouteFromIcon';\nimport InformationIcon from 'calcite-ui-icons-react/InformationIcon';\nimport {loadModules} from 'esri-loader';\nimport options from '../config/esri-loader-options';\nimport LayerPanel from './LayerPanel';\nimport RoutePanel from './RoutePanel';\nimport SafetyStore from './SafetyStore';\nimport safetyConfig from './SafetyConfig';\n\nconst { Header, Content, Sider } = Layout;\n\nconst MenuFilterIcon = () => (\n  <LayerFilterIcon size=\"18\" filled/>\n)\nconst MenuBookmarkIcon = () => (\n  <BookmarkIcon size=\"18\" filled/>\n)\nconst MenuRouteFromIcon = () => (\n  <RouteFromIcon size=\"20\" filled/>\n)\nconst MenuInformationIcon = () => (\n  <InformationIcon size=\"17\" filled/>\n)\n\nconst SafetyApp = observer(class App extends React.Component {\n\n  state = {\n    collapsed: false,\n    loaded: false,\n    navKey: null\n  };\n\n  constructor(props, context){\n    super(props, context);\n    this.mapViewRef = React.createRef();\n    this.store = new SafetyStore(props.appState, safetyConfig);\n  }\n\n  onCollapse = collapsed => {\n    this.setState({ collapsed });\n  };\n\n  onSelect = item => {\n    const navKey = this.state.navKey === item.key\n      ? null\n      : item.key;\n    this.setState({navKey});\n  }\n\n  onClose = () => {\n    this.setState({\n      navKey: null,\n    });\n  };\n\n  componentDidMount = () => {\n\n    const modulePromise = loadModules([\n      'esri/widgets/Search',\n      'esri/widgets/Legend'\n    ], options);\n    const loadPromise = this.store.load(this.mapViewRef.current);\n\n    Promise.all([modulePromise, loadPromise])\n      .then(([[Search, Legend], mapView]) => {\n        this.view = mapView;\n        const search = new Search({view: this.view});\n        this.view.ui.add(search, \"top-right\");\n        const legend = new Legend({view: this.view});\n        this.view.ui.add(legend, \"bottom-right\");\n        this.view.ui.move(\"zoom\", \"top-right\");\n      });\n  }\n\n  render() {\n    let panel;\n    switch(this.state.navKey){\n      case 'Layers':\n        panel = <LayerPanel store={this.store}/>;\n        break;\n      case 'Bookmarks':\n        panel = <h1>Woah this are some awesome bookmarks!</h1>;\n        break;\n      case 'Route':\n        panel = <RoutePanel store={this.store}/>\n        break;\n      case 'About':\n        panel = <h1>This is a slick app! Thanks Max!</h1>;\n        break;\n      default:\n        panel = null;\n    }\n\n    const signin = this.props.appState.displayName\n      ? (\n        <Menu\n          theme=\"dark\"\n          mode=\"horizontal\"\n          style={{ lineHeight: '64px', float: \"right\" }}\n        >\n          <Menu.Item key=\"sign in\">{this.props.appState.displayName}</Menu.Item>\n        </Menu>\n      )\n      : null;\n\n    return (\n      <Layout style={{ minHeight: '100vh' }}>\n        <Header style={{paddingLeft: \"1rem\", paddingRight: \"0rem\"}}>\n          <h1 style={{color: \"rgba(255,255,255,0.8\", float: \"left\"}}>Road Risk Lab</h1>\n          {signin}\n        </Header>\n        <Layout>\n          <Sider collapsible collapsed={this.state.collapsed} onCollapse={this.onCollapse}>\n            <Menu\n              defaultSelectedKeys={['0']}\n              mode=\"inline\"\n              theme=\"dark\"\n              selectedKeys={[this.state.navKey]}\n              onClick={this.onSelect}>\n              <Menu.Item key=\"Layers\">\n                <Icon component={MenuFilterIcon} />\n                <span>Layers</span>\n              </Menu.Item>\n              <Menu.Item key=\"Route\">\n                <Icon component={MenuRouteFromIcon} />\n                <span>Route</span>\n              </Menu.Item>\n              <Menu.Item key=\"Bookmarks\">\n                <Icon component={MenuBookmarkIcon} />\n                <span>Bookmarks</span>\n              </Menu.Item>\n              <Menu.Item key=\"About\">\n                <Icon component={MenuInformationIcon} />\n                <span>About</span>\n              </Menu.Item>\n            </Menu>\n          </Sider>\n          <Content>\n            <Row>\n              <Col\n                span={24}\n                style={{height: \"calc(100vh - 64px)\"}}>\n              <div\n                ref={this.mapViewRef}\n                style={{width: \"100%\", height: \"100%\"}}/>\n              <Drawer\n                // title={this.state.navKey}\n                closable={false}\n                // onClose={this.onClose}\n                placement=\"left\"\n                visible={this.state.navKey}\n                mask={false}\n                getContainer={false}\n                style={{ position: 'absolute', background: \"#f5f5f5\", height: \"calc(100% - 15px)\"}}\n                bodyStyle={{ padding: \"10px\", background: \"#f5f5f5\", height: \"100%\", overflowY: 'scroll' }}\n              >\n                {panel}\n              </Drawer>\n            </Col>\n            </Row>\n          </Content>\n        </Layout>\n      </Layout>\n    );\n  }\n});\n\nexport default SafetyApp;","// update to map\n\nimport bicycleImage from '../resources/images/ET_BICYCLE.png'\nimport pedImage from '../resources/images/ET_PED_ON_HW.png'\n\nconst eventsConfig = {\n  layerItemId: 'b6e8773284fe4b6891c7196a57e238b8',\n  initialRendererField: 'eventsubtype',\n  renderers : {\n    'eventsubtype': {\n      _type: \"jsapi\",\n      type: \"unique-value\",  // autocasts as new UniqueValueRenderer()\n      field: \"eventsubtype\",\n      defaultSymbol: {type: \"simple-marker\", color: \"blue\"},\n      uniqueValueInfos: [{\n        value: \"pedestrians\",\n        symbol: {\n          type: \"picture-marker\",\n          url: pedImage\n        }\n      }, {\n        value: \"bicycles\",\n        symbol: {\n          type: \"picture-marker\",\n          url: bicycleImage\n        }\n      }\n      ]\n    }\n  }\n  ,\n  filters: [\n//    {name: 'eventvalue', type: 'minmax', params: {lowerBound: 0, upperBound: 20, log: true}},\n//    {name: 'eventtype', type: 'multiselect'},\n    {name: 'eventsubtype', type: 'multiselect'},\n//    {name: 'project', type: 'multiselect', params: {lowerBound: 0, upperBound: 100, log: true}},\n//    {name: 'eventtimestamp', type: 'minmax', params: {lowerBound: 0, upperBound: 100, log: true}},\n  ],\n  popupTemplate: {\n    title: \"Event information:\",\n    content: \"Event type: <b>{eventsubtype}</b><br>\" +\n        \"Project: {project}<br>\" +\n        \"Event value: {eventvalue}<br>\" +\n        \"Event timestamp: {eventtimestamp}\"\n  },\n  viewConfig: {\n    center: [-74.00157, 40.71955],\n    zoom: 12\n  }\n\n}\n\nexport default eventsConfig;\n\n\n","import React from 'react'\nimport { observer } from \"mobx-react\";\nimport { Layout, Menu, Drawer, Icon, Row, Col } from 'antd';\nimport LayerFilterIcon from 'calcite-ui-icons-react/LayersIcon';\nimport BookmarkIcon from 'calcite-ui-icons-react/BookmarkIcon';\nimport InformationIcon from 'calcite-ui-icons-react/InformationIcon';\nimport {loadModules} from 'esri-loader';\nimport options from '../config/esri-loader-options';\nimport FilterPanel from '../components/FilterPanel';\nimport Store from '../stores/Store';\nimport eventsConfig from './EventsConfig';\n\nconst { Header, Content, Sider } = Layout;\n\nconst MenuFilterIcon = () => (\n  <LayerFilterIcon size=\"18\" filled/>\n)\nconst MenuBookmarkIcon = () => (\n  <BookmarkIcon size=\"18\" filled/>\n)\nconst MenuInformationIcon = () => (\n  <InformationIcon size=\"17\" filled/>\n)\n\nconst EventsApp = observer(class App extends React.Component {\n\n  state = {\n    collapsed: true,\n    loaded: false,\n    navKey: \"Layers\"\n  };\n\n  constructor(props, context){\n    super(props, context);\n    this.mapViewRef = React.createRef();\n    this.sliderRef = React.createRef();\n    this.store = new Store(props.appState, eventsConfig);\n  }\n\n  onCollapse = collapsed => {\n    this.setState({ collapsed });\n  };\n\n  onSelect = item => {\n    const navKey = this.state.navKey === item.key\n      ? null\n      : item.key;\n    this.setState({navKey});\n  }\n\n  onClose = () => {\n    this.setState({\n      navKey: null,\n    });\n  };\n\n  componentDidMount = () => {\n\n    const modulePromise = loadModules([\n      'esri/widgets/Search',\n      'esri/widgets/Legend',\n      'esri/widgets/TimeSlider'\n\n    ], options);\n    const loadPromise = this.store.load(this.mapViewRef.current);\n\n    Promise.all([modulePromise, loadPromise])\n      .then(([[Search, Legend, TimeSlider], mapView]) => {\n        this.view = mapView;\n        const search = new Search({view: this.view});\n        const legend = new Legend({view: this.view, layerInfos: [{layer: this.store.lyr, title: \"\"}]});\n\n        // create a new time slider widget\n        // set other properties when the layer view is loaded\n        // by default timeSlider.mode is \"time-window\" - shows\n        // data falls within time range\n        const timeSlider = new TimeSlider({\n          container: \"timeSlider\",\n          mode: \"time-window\",\n          view: this.view,\n          loop: false\n\n        });\n\n        // const timeSlider = new TimeSlider({\n        //   container: \"timeSlider\",\n        //   playRate: 50,\n        //   stops: {\n        //     interval: {\n        //       value: 1,\n        //       unit: \"hours\"\n        //     }\n        //   }\n        // });\n        this.timeSlider = timeSlider;\n        //timeSlider.values = [new Date(2019, 1, 1), new Date(2020, 1, 1)];\n        this.view.ui.add(timeSlider, \"top-right\");\n        this.view.ui.add(search, \"top-right\");\n        this.view.ui.add(legend, \"bottom-right\");\n        this.view.ui.move(\"zoom\", \"top-right\");\n      });\n  }\n\n  render() {\n    let panel;\n    switch (this.state.navKey) {\n      case 'Layers':\n        panel = <FilterPanel store={this.store}/>;\n        break;\n      case 'Bookmarks':\n        panel = <h1>Woah this are some awesome bookmarks!</h1>;\n        break;\n      case 'About':\n        panel = <h1>This is a slick app! Thanks Max!</h1>;\n        break;\n      default:\n        panel = null;\n    }\n\n    // Init Time Slider\n    if (this.store.layerLoaded){\n      const fullTimeExtent = this.store.lyr.timeInfo.fullTimeExtent;\n\n      // set up time slider properties\n      this.timeSlider.fullTimeExtent = fullTimeExtent;\n      // this.timeSlider.stops = {\n      //   interval: this.store.lyr.timeInfo.interval\n      // };\n    }\n\n\n    const signin = this.props.appState.displayName\n      ? (\n        <Menu\n          theme=\"dark\"\n          mode=\"horizontal\"\n          style={{ lineHeight: '64px', float: \"right\" }}\n        >\n          <Menu.Item key=\"sign in\">{this.props.appState.displayName}</Menu.Item>\n        </Menu>\n      )\n      : null;\n\n    return (\n      <Layout style={{ minHeight: '100vh' }}>\n        <Header style={{paddingLeft: \"1rem\", paddingRight: \"0rem\"}}>\n          <h1 style={{color: \"rgba(255,255,255,0.8\", float: \"left\"}}>Mobileye City Lab</h1>\n          {signin}\n        </Header>\n        <Layout>\n          <Sider collapsible collapsed={this.state.collapsed} onCollapse={this.onCollapse}>\n            <Menu\n              defaultSelectedKeys={['0']}\n              mode=\"inline\"\n              theme=\"dark\"\n              selectedKeys={[this.state.navKey]}\n              onClick={this.onSelect}>\n              <Menu.Item key=\"Layers\">\n                <Icon component={MenuFilterIcon} />\n                <span>Layers</span>\n              </Menu.Item>\n              <Menu.Item key=\"Bookmarks\">\n                <Icon component={MenuBookmarkIcon} />\n                <span>Bookmarks</span>\n              </Menu.Item>\n              <Menu.Item key=\"About\">\n                <Icon component={MenuInformationIcon} />\n                <span>About</span>\n              </Menu.Item>\n            </Menu>\n          </Sider>\n          <Content>\n            <Row>\n              <Col\n                span={24}\n                style={{height: \"calc(100vh - 64px)\"}}>\n              <div\n                style={{ position: 'absolute', left: '30%', right: '15px', bottom: '30px'}}\n                ref={this.sliderRef}/>\n              <div\n                ref={this.mapViewRef}\n                style={{width: \"100%\", height: \"100%\"}}/>\n              <Drawer\n                // title={this.state.navKey}\n                closable={false}\n                // onClose={this.onClose}\n                placement=\"left\"\n                visible={this.state.navKey}\n                mask={false}\n                getContainer={false}\n                style={{ position: 'absolute', background: \"#f5f5f5\"}}\n                bodyStyle={{ padding: \"10px\", background: \"#f5f5f5\", height: \"100%\" }}\n              >\n                {panel}\n              </Drawer>\n            </Col>\n            </Row>\n          </Content>\n        </Layout>\n      </Layout>\n    );\n  }\n});\n\nexport default EventsApp;","import React from 'react';\nimport {loadModules} from 'esri-loader';\nimport { observer } from \"mobx-react\";\nimport options from '../config/esri-loader-options';\n\nconst HistogramComponent = observer(class HistogramComponent extends React.Component{\n\n  constructor(props, context){\n    super(props, context);\n    this.histRef = React.createRef();\n    this.store = props.store;\n  }\n\n  // onChange = (v) => {\n  //   this.setState({sliderValues: v});\n  // }\n\n  // onValuesChange = (newValues) => {\n  //   const [min, max] = newValues;\n  //   this.store.onValuesChange(min, max);\n  // }\n\n  createHistogram = () => {\n    if (\n      this.histogram\n      || !this.Histogram\n      || !this.histRef.current\n      || !this.store.loaded\n    ) return;\n\n    this.histogram = new this.Histogram({\n      bins: this.store.bins,\n      excludedBarColor: \"#bfbfbf\",\n      container: this.histRef.current,\n    });\n    //console.log(\"ORK\", this.store.bins)\n  }\n\n  componentDidMount(){\n    loadModules([\n      'esri/widgets/Histogram',\n    ], options)\n    .then(([Histogram]) => {\n      this.Histogram = Histogram;\n      this.createHistogram();\n    })\n    .catch(er => console.log(er));\n  }\n\n\n  render(){\n\n    if(!this.histogram && this.store.loaded) this.createHistogram();\n\n    const title = this.store.fieldInfo.alias;\n\n    return(\n      <>\n        <p>{title}</p>\n        <div style={{height: \"6rem\", width: \"10rem\"}}>\n          <div ref={this.histRef}></div>\n        </div>\n      </>\n    )\n  }\n});\n\nexport default HistogramComponent;","import React from 'react';\nimport { observer } from \"mobx-react\";\nimport { Card } from 'antd';\nimport HistogramComponent from '../components/HistogramComponent';\nimport {MinMaxFilter} from \"../stores/Filters\"\nimport HistMinMaxSlideFilter from '../components/HistMinMaxSlideFilter';\n\nconst HistogramPanel = observer(class HistogramPanel extends React.Component{\n\n  render(){\n\n    const HistogramViews = this.props.store.histograms.map(f => {\n      \n      if(f instanceof MinMaxFilter) {      \n        return <HistMinMaxSlideFilter store={f} key={f.field}/>\n      } else {\n        return <HistogramComponent store={f} key={f.field}/>\n      }\n    })\n\n    return (\n      <>\n        <Card size=\"small\" style={{marginTop: \"10px\"}}>\n          <h1>Histograms</h1>\n          {HistogramViews}\n        </Card>\n      </>\n    )\n  }\n\n});\n\nexport default HistogramPanel;\n","import sign10Image from '../resources/images/SIGN_ICON_10.png'\nimport sign20Image from '../resources/images/SIGN_ICON_20.png'\nimport sign30Image from '../resources/images/SIGN_ICON_30.png'\nimport sign40Image from '../resources/images/SIGN_ICON_40.png'\nimport sign50Image from '../resources/images/SIGN_ICON_50.png'\nimport sign60Image from '../resources/images/SIGN_ICON_60.png'\nimport sign70Image from '../resources/images/SIGN_ICON_70.png'\nimport sign80Image from '../resources/images/SIGN_ICON_80.png'\nimport sign90Image from '../resources/images/SIGN_ICON_90.png'\nimport sign100Image from '../resources/images/SIGN_ICON_100.png'\nimport sign110Image from '../resources/images/SIGN_ICON_110.png'\nimport sign120Image from '../resources/images/SIGN_ICON_120.png'\nimport sign130Image from '../resources/images/SIGN_ICON_130.png'\nimport sign140Image from '../resources/images/SIGN_ICON_140.png'\n\n\n// update to map\n\nconst surveyConfig = {\n  layerItemId: '8560701bf1b44bccb3da5bb876e7f625',\n  initialRendererField: 'signs',\n  renderers: {\n    'signs': {\n      _type: \"jsapi\",\n      type: \"unique-value\",  // autocasts as new UniqueValueRenderer()\n      field: \"sign_type\",\n      defaultSymbol: {type: \"simple-marker\", color: \"blue\"},\n      visualVariables: [{\n        type: \"opacity\",\n        field: \"comparsion_to_prev_map\",\n        stops: [\n              {value: '2', opacity: 0.3},\n              {value: '1', opacity: 1},\n              {value: '0', opacity: 1}\n        ]\n      },\n      {\n        type: \"size\",\n        field: \"edge_length_or_diameter\",\n          minDataValue: 0.0,\n          maxDataValue: 2.0,\n          minSize: 0,\n          maxSize: 30\n      }],\n      uniqueValueInfos: [\n        {value: '0', symbol: {type: \"picture-marker\", url: sign10Image}},\n        {value: '1', symbol: {type: \"picture-marker\", url: sign20Image}},\n        {value: '2', symbol: {type: \"picture-marker\", url: sign30Image}},\n        {value: '3', symbol: {type: \"picture-marker\", url: sign40Image}},\n        {value: '4', symbol: {type: \"picture-marker\", url: sign50Image}},\n        {value: '5', symbol: {type: \"picture-marker\", url: sign60Image}},\n        {value: '6', symbol: {type: \"picture-marker\", url: sign70Image}},\n        {value: '7', symbol: {type: \"picture-marker\", url: sign80Image}},\n        {value: '8', symbol: {type: \"picture-marker\", url: sign90Image}},\n        {value: '9', symbol: {type: \"picture-marker\", url: sign100Image}},\n        {value: '10', symbol: {type: \"picture-marker\", url: sign110Image}},\n        {value: '11', symbol: {type: \"picture-marker\", url: sign120Image}},\n        {value: '12', symbol: {type: \"picture-marker\", url: sign130Image}},\n        {value: '13', symbol: {type: \"picture-marker\", url: sign140Image}},\n        {value: '28', symbol: {type: \"picture-marker\", url: sign10Image}},\n        {value: '29', symbol: {type: \"picture-marker\", url: sign20Image}},\n        {value: '30', symbol: {type: \"picture-marker\", url: sign30Image}},\n        {value: '31', symbol: {type: \"picture-marker\", url: sign40Image}},\n        {value: '32', symbol: {type: \"picture-marker\", url: sign50Image}},\n        {value: '33', symbol: {type: \"picture-marker\", url: sign60Image}},\n        {value: '34', symbol: {type: \"picture-marker\", url: sign70Image}},\n        {value: '35', symbol: {type: \"picture-marker\", url: sign80Image}},\n        {value: '36', symbol: {type: \"picture-marker\", url: sign90Image}},\n        {value: '37', symbol: {type: \"picture-marker\", url: sign100Image}},\n        {value: '38', symbol: {type: \"picture-marker\", url: sign110Image}},\n        {value: '39', symbol: {type: \"picture-marker\", url: sign120Image}},\n        {value: '40', symbol: {type: \"picture-marker\", url: sign130Image}},\n        {value: '41', symbol: {type: \"picture-marker\", url: sign140Image}}\n    ]\n  }\n  },\n  filters: [\n    {name: 'sign_type', type: 'multiselect', params: {}},\n    {name: 'comparsion_to_prev_map', type: 'multiselect', params: {}},\n    {name: 'landmark_type', type: 'multiselect', params: {}},\n    {name: 'map_version', type: 'select', params: {}},\n    \n  ],\n  histograms: [\n    {name: 'display_text', withFilter : true, params: {isLogarithmic: false, log: true, numBins: 14}},\n    {name: 'edge_length_or_diameter', withFilter : true, params: {isLogarithmic: false, log: true}},\n  ],\n  popupTemplate: {\n    title: \"{expression/title-expression}\",\n    content: \"Sign type: <b>{sign_type}{expression/speed-units}{expression/landmark_type}</b><br>\" +\n             \"Detected at {publish_date} (version {map_version})<br>\" +\n             \"{expression/size_marker}: {edge_length_or_diameter} m<br>\",\n    expressionInfos: [{\n          name: \"speed-units\",\n          title: \"Speed units\",\n          expression: \"When(($feature.sign_type >= 0 && $feature.sign_type <= 13) || ($feature.sign_type >= 28 && $feature.sign_type <= 41), ' KM/h speed limit', '')\"\n    } ,\n    {\n      name: \"size_marker\",\n      title: \"Size marker\",\n      expression: \"When ($feature.landmark_type == 1, 'Diameter', 'Edge size')\"\n    },\n    {\n      name: \"landmark_type\",\n      title: \"Landmark type\",\n      expression: \"When($feature.landmark_type == 2, ' (electronic)', '')\"\n    },\n    {\n      name: \"title-expression\",\n      title: \"Title Expression\",\n      expression: \"When($feature.edge_length_or_diameter == 2, '<b>Missing<\\b> Sign', $feature.edge_length_or_diameter == 1, '<b>New<\\b> Sign',  'Sign information')\"\n    }]\n  },\n  viewConfig: { \n    center: [11.432656,48.194704],\n    zoom: 12\n  }\n}\n\nexport default surveyConfig;","import React from 'react';\nimport { observer } from \"mobx-react\";\nimport { Layout, Menu, Drawer, Icon, Row, Col } from 'antd';\nimport LayerFilterIcon from 'calcite-ui-icons-react/LayersIcon';\nimport GraphHistogramIcon from 'calcite-ui-icons-react/GraphHistogramIcon';\nimport BookmarkIcon from 'calcite-ui-icons-react/BookmarkIcon';\nimport InformationIcon from 'calcite-ui-icons-react/InformationIcon';\nimport {loadModules} from 'esri-loader';\nimport options from '../config/esri-loader-options';\nimport FilterPanel from '../components/FilterPanel';\nimport HistogramPanel from './HistogramPanel';\nimport Store from '../stores/Store';\nimport surveyConfig from './SurveyConfig';\n\nconst { Header, Content, Sider } = Layout;\n\nconst MenuFilterIcon = () => (\n  <LayerFilterIcon size=\"18\" filled/>\n)\nconst MenuHistogramIcon = () => (\n  <GraphHistogramIcon size=\"18\" filled/>\n)\nconst MenuBookmarkIcon = () => (\n  <BookmarkIcon size=\"18\" filled/>\n)\nconst MenuInformationIcon = () => (\n  <InformationIcon size=\"17\" filled/>\n)\n\nconst SurveyApp = observer(class App extends React.Component {\n\n  state = {\n    collapsed: true,\n    loaded: false,\n    navKey: \"Layers\"\n  };\n\n  constructor(props, context){\n    super(props, context);\n    this.mapViewRef = React.createRef();\n    this.store = new Store(props.appState, surveyConfig);\n  }\n\n  onCollapse = collapsed => {\n    this.setState({ collapsed });\n  };\n\n  onSelect = item => {\n    const navKey = this.state.navKey === item.key\n      ? null\n      : item.key;\n    this.setState({navKey});\n  }\n\n  onClose = () => {\n    this.setState({\n      navKey: null,\n    });\n  };\n\n  componentDidMount = () => {\n\n    const modulePromise = loadModules([\n      'esri/widgets/Search',\n      //'esri/widgets/Legend'\n    ], options);\n    const loadPromise = this.store.load(this.mapViewRef.current);\n\n    Promise.all([modulePromise, loadPromise])\n      .then(([[Search, Legend], mapView]) => {\n        this.view = mapView;\n        const search = new Search({view: this.view});\n        this.view.ui.add(search, \"top-right\");\n        //const legend = new Legend({view: this.view});\n        //this.view.ui.add(legend, \"bottom-right\");\n        this.view.ui.move(\"zoom\", \"top-right\");\n      });\n  }\n\n  render() {\n    let panel;\n    switch(this.state.navKey){\n      case 'Layers':\n        panel = <FilterPanel store={this.store}/>;\n        break;\n      case 'Histograms':\n        panel = <HistogramPanel store={this.store}/>;\n        break;\n      case 'Bookmarks':\n        panel = <h1>Woah this are some awesome bookmarks!</h1>;\n        break;\n      case 'About':\n        panel = <h1>This is a slick app! Thanks Max!</h1>;\n        break;\n      default:\n        panel = null;\n    }\n\n    const signin = this.props.appState.displayName\n      ? (\n        <Menu\n          theme=\"dark\"\n          mode=\"horizontal\"\n          style={{ lineHeight: '64px', float: \"right\" }}\n        >\n          <Menu.Item key=\"sign in\">{this.props.appState.displayName}</Menu.Item>\n        </Menu>\n      )\n      : null;\n\n    return (\n      <Layout style={{ minHeight: '100vh' }}>\n        <Header style={{paddingLeft: \"1rem\", paddingRight: \"0rem\"}}>\n          <h1 style={{color: \"rgba(255,255,255,0.8\", float: \"left\"}}>Sign Survey</h1>\n          {signin}\n        </Header>\n        <Layout>\n          <Sider collapsible collapsed={this.state.collapsed} onCollapse={this.onCollapse}>\n            <Menu\n              defaultSelectedKeys={['0']}\n              mode=\"inline\"\n              theme=\"dark\"\n              selectedKeys={[this.state.navKey]}\n              onClick={this.onSelect}>\n              <Menu.Item key=\"Layers\">\n                <Icon component={MenuFilterIcon} />\n                <span>Layers</span>\n              </Menu.Item>\n              <Menu.Item key=\"Histograms\">\n                <Icon component={MenuHistogramIcon} />\n                <span>Histograms</span>\n              </Menu.Item>\n              <Menu.Item key=\"Bookmarks\">\n                <Icon component={MenuBookmarkIcon} />\n                <span>Bookmarks</span>\n              </Menu.Item>\n              <Menu.Item key=\"About\">\n                <Icon component={MenuInformationIcon} />\n                <span>About</span>\n              </Menu.Item>\n            </Menu>\n          </Sider>\n          <Content>\n            <Row>\n              <Col\n                span={24}\n                style={{height: \"calc(100vh - 64px)\"}}>\n              <div\n                ref={this.mapViewRef}\n                style={{width: \"100%\", height: \"100%\"}}/>\n              <Drawer\n                // title={this.state.navKey}\n                closable={false}\n                // onClose={this.onClose}\n                placement=\"left\"\n                visible={this.state.navKey}\n                mask={false}\n                getContainer={false}\n                style={{ position: 'absolute', background: \"#f5f5f5\", height: \"calc(100%-40px)\"}}\n                bodyStyle={{ padding: \"10px\", background: \"#f5f5f5\", height: \"100%\" }}\n              >\n                {panel}\n              </Drawer>\n            </Col>\n            </Row>\n          </Content>\n        </Layout>\n      </Layout>\n    );\n  }\n});\n\n\nexport default SurveyApp;","const config = {\n  appId: \"o3Zbi02dIsAez6sL\",\n  portalUrl: \"https://www.arcgis.com/sharing\"\n}\n\nexport default config;","import React from 'react'\nimport { observer } from \"mobx-react\";\nimport { HashRouter as Router, BrowserRouter, Route, Link, Redirect } from \"react-router-dom\";\nimport { Row, Col, Card, Layout, Button, Divider } from 'antd';\nimport AppState from './stores/AppState';\nimport MapImage from './resources/images/map.png';\nimport SafetyApp from './safety/SafetyApp';\nimport EventsApp from './events/EventsApp';\nimport SurveyApp from './survey/SurveyApp';\nimport {\n  UserSession\n} from \"@esri/arcgis-rest-auth\";\nimport config from './config/config';\nimport {loadScript} from 'esri-loader';\nimport options from './config/esri-loader-options';\n\nconst { Content } = Layout;\nconst { appId } = config;\n\n// TODO, see if faster way to accept callback without loading whole app\nconst OAuth = _ => {\n  UserSession.completeOAuth2({\n    clientId: appId,\n  });\n  return(\n    <div/>\n  )\n}\n\nconst PrivateRoute = observer(({Component, appState, ...rest}) => (\n  <Route\n    {...rest}\n    render={(props) => (\n      appState.isAuthenticated === true\n        ? <Component appState={appState} {...props}/>\n        : <Redirect to={{\n            pathname: '/',\n            state: {from: props.location}\n          }}/>\n    )}/>\n));\n\nconst Home = observer(class Home extends React.Component{\n  \n  componentDidMount(){\n    loadScript(options);\n  }\n\n  render(){\n    let appState = this.props.appState;\n\n    let topComponent = appState.isAuthenticated\n      ? <h1>Hello <b>{appState.displayName}</b>, please select the application you would like to use:</h1>\n      : <Button type=\"primary\" size=\"large\" onClick={appState.login}>Log in to get started</Button>;\n\n    const {from} = this.props.location.state || {from: null};\n    if(appState.redirectToReferrer && from){\n      return <Redirect to={from}/>\n    }\n\n    // Not good practice, should find a way to inject router Link into antd Button\n    const linkClass = \"ant-btn ant-btn-primary ant-btn-background-ghost ant-btn-block ant-btn ant-btn-lg\";\n\n    return(\n      <Layout style={{ minHeight: '100vh' }}>\n        <Content style={{ padding: '50px 50px'}}>\n          <Row type=\"flex\" justify=\"space-around\" align=\"middle\">\n            <Col style={{textAlign: 'center'}}>\n              {topComponent}\n            </Col>\n          </Row>\n          <Divider/>\n          <Row type=\"flex\" justify=\"space-around\" align=\"middle\">\n            <Col md={{span: 0}} xl={{span: 2}}/>\n            <Col md={{span: 6}} xl={{span: 4}}>\n              <Card\n              cover={<img alt=\"example\" src={MapImage} />}>\n                <Link\n                  to=\"/safety\"\n                  className={linkClass}\n                  disabled={!appState.isAuthenticated}>\n                  Explore Safety\n                </Link>\n              </Card>\n            </Col>\n            <Col md={{span: 6}} xl={{span: 4}}>\n              <Card\n              cover={<img alt=\"example\" src={MapImage}/>}>\n                <Link\n                  to=\"/events\"\n                  className={linkClass}\n                  disabled={!appState.isAuthenticated}>\n                  Explore Events\n                </Link>\n              </Card>\n            </Col>\n            <Col md={{span: 6}} xl={{span: 4}}>\n              <Card\n              cover={<img alt=\"example\" src={MapImage} />}>\n              <Link\n                to=\"/survey\"\n                className={linkClass}\n                disabled={!appState.isAuthenticated}>\n                Explore Survey\n              </Link>\n              </Card>\n            </Col>\n            <Col md={{span: 0}} xl={{span: 2}}/>\n          </Row>\n        </Content>\n      </Layout>\n    )\n  }\n});\n\n\nclass App extends React.Component{\n\n  constructor(props, context){\n    super(props, context);\n    const relativeRedirectUri = '';\n    this.appState = new AppState({...config, relativeRedirectUri});\n    console.log('v 0.0.0.6')\n  }\n\n  render(){\n    if(window.location.hash.includes(\"access_token=\")){\n      return (\n        <BrowserRouter>\n          <Route path=\"/\" component={OAuth} />\n        </BrowserRouter>\n      )\n    }\n    return(\n      <Router>\n        <Route\n          path=\"/\"\n          exact\n          render={props => <Home {...props} appState={this.appState}/>}/>\n        <PrivateRoute\n          path=\"/safety\"\n          appState={this.appState}\n          Component={SafetyApp}/>\n        <PrivateRoute\n          path=\"/events\"\n          appState={this.appState}\n          Component={EventsApp}/>\n        <PrivateRoute\n          path=\"/survey\"\n          appState={this.appState}\n          Component={SurveyApp}/>\n      </Router>\n    )\n  }\n}\n\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n \nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}