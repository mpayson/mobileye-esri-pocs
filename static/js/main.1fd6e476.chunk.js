(window["webpackJsonpesri-loader"]=window["webpackJsonpesri-loader"]||[]).push([[0],{161:function(e,t,a){e.exports=a.p+"static/media/map.05f48ce5.png"},216:function(e,t,a){"use strict";a.r(t);var r=a(246),n=a.n(r);a.d(t,"RightOutline",(function(){return n.a}));var i=a(247),o=a.n(i);a.d(t,"LeftOutline",(function(){return o.a}));var s=a(250),l=a.n(s);a.d(t,"UpOutline",(function(){return l.a}));var c=a(251),u=a.n(c);a.d(t,"DownOutline",(function(){return u.a}));var p=a(248),d=a.n(p);a.d(t,"CloseOutline",(function(){return d.a}));var h=a(249),m=a.n(h);a.d(t,"CheckOutline",(function(){return m.a}));var f=a(252),y=a.n(f);a.d(t,"ArrowUpOutline",(function(){return y.a}));var g=a(253),v=a.n(g);a.d(t,"ArrowDownOutline",(function(){return v.a}));var b=a(254),w=a.n(b);a.d(t,"MinusOutline",(function(){return w.a}));var A=a(255),E=a.n(A);a.d(t,"LoadingOutline",(function(){return E.a}));var k=a(256),O=a.n(k);a.d(t,"CloseCircleFill",(function(){return O.a}));var j=a(257),C=a.n(j);a.d(t,"LogoutOutline",(function(){return C.a}));var x=a(258),B=a.n(x);a.d(t,"InfoCircleOutline",(function(){return B.a}));var S=a(259),F=a.n(S);a.d(t,"EyeOutline",(function(){return F.a}))},263:function(e,t,a){},320:function(e,t,a){e.exports=a.p+"static/media/Basic_Web_White_Logo.cf14d591.png"},321:function(e,t){e.exports="data:image/png;base64,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"},322:function(e,t){e.exports="data:image/png;base64,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"},364:function(e,t,a){e.exports=a(652)},369:function(e,t,a){},459:function(e,t,a){},650:function(e,t,a){},652:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a.n(r),i=a(11),o=a.n(i),s=(a(369),a(51)),l=(a(93),a(42)),c=(a(228),a(154)),u=(a(110),a(44)),p=(a(111),a(31)),d=(a(83),a(36)),h=a(15),m=a(16),f=a(18),y=a(14),g=a(19),v=a(334),b=(a(129),a(34)),w=a(24),A=a(73),E=a(108),k=a(3),O=a(654),j="__MOBILEYE_ESRI_POCS__",C=function(){function e(t){Object(h.a)(this,e),this.redirectToReferrer=!1,this.config=t,this.session=null;var a=localStorage.getItem(j);if(null!==a&&"undefined"!==a){var r=JSON.parse(a);r.tokenExpires=new Date(r.tokenExpires),r.tokenExpires>new Date?this.session=new O.a(r):localStorage.removeItem(j)}}return Object(m.a)(e,[{key:"_registerSession",value:function(e){this.session=e,this.redirectToReferrer=!0,localStorage.setItem(j,this.session.serialize())}},{key:"login",value:function(){var e="".concat(window.location.origin).concat(window.location.pathname).concat(this.config.relativeRedirectUri);O.a.beginOAuth2({clientId:this.config.appId,redirectUri:e,popup:!0}).then(this._registerSession).catch((function(e){return console.log(e)}))}},{key:"logout",value:function(){localStorage.removeItem(j),this.redirectToReferrer=!1,this.session=null}},{key:"displayName",get:function(){return this.session?this.session.username:null}},{key:"isAuthenticated",get:function(){return!!this.session}}]),e}();Object(k.i)(C,{session:k.n,redirectToReferrer:k.n,displayName:k.f,isAuthenticated:k.f,_registerSession:k.d.bound,login:k.d.bound,logout:k.d.bound});var x=C,B=a(161),S=a.n(B),F=(a(169),a(102)),R=(a(170),a(32)),T=(a(113),a(6)),L=a(28),M=a(94),D=a.n(M),V=a(95),I=a.n(V),Q=a(310),N=a.n(Q),H=a(33),K={url:"https://js.arcgis.com/4.13/",css:"https://js.arcgis.com/4.13/esri/themes/light/main.css",dojoConfig:{has:{"esri-native-promise":!0}}},z=(a(172),a(80)),G=(a(381),a(223)),J=(a(229),a(159)),P=(a(385),a(314)),Y=(a(231),a(107)),q=(a(388),a(221)),X=Object(w.a)(function(e){function t(e,a){var r;return Object(h.a)(this,t),(r=Object(f.a)(this,Object(y.a)(t).call(this,e,a))).onChange=function(e){var t=Object(L.a)(e,2),a=t[0],n=t[1];r.store.onValuesChange(a,n)},r.store=e.store,r}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e;if(!this.store.loaded)return n.a.createElement(q.a,{range:!0,min:0,max:100,defaultValue:[0,100],disabled:!0});var t=[this.store.min||0===this.store.min?this.store.min:this.store.lowerBound,this.store.max||0===this.store.max?this.store.max:this.store.upperBound],a=this.props.lowerBoundLabel?this.props.lowerBoundLabel:this.store.lowerBound.toString(),r=this.props.upperBoundLabel?this.props.upperBoundLabel:this.store.upperBound.toString(),i=(e={},Object(s.a)(e,this.store.lowerBound,a),Object(s.a)(e,this.store.upperBound,r),e),o=Math.round(this.store.upperBound-this.store.lowerBound)/100;return n.a.createElement(q.a,{range:!0,min:this.store.lowerBound,max:this.store.upperBound,marks:i,defaultValue:[this.store.lowerBound,this.store.upperBound],value:t,onChange:this.onChange,disabled:!this.store.loaded,step:o,tooltipVisible:!1})}}]),t}(n.a.Component)),U=Object(w.a)(function(e){function t(e,a){var r;return Object(h.a)(this,t),(r=Object(f.a)(this,Object(y.a)(t).call(this,e,a))).onValuesChange=function(e){var t=Object(L.a)(e,2),a=t[0],n=t[1];r.store.onValuesChange(a,n)},r.labelFunction=function(e,t){var a="";return"max"===t&&(a=Math.ceil(!r.store.upperBoundSupplied&&r.store.isLogarithmic?Math.pow(r.store.logBase,r.store.upperBound):r.store.upperBound)),"min"===t&&(a=0,0!==r.store.lowerBound&&(a=Math.floor(!r.store.lowerBoundSupplied&&r.store.isLogarithmic?Math.pow(r.store.logBase,r.store.lowerBound):r.store.lowerBound))),a},r.sliderRef=n.a.createRef(),r.store=e.store,r}return Object(g.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;Object(H.loadModules)(["esri/widgets/HistogramRangeSlider"],K).then((function(t){var a=Object(L.a)(t,1)[0],r=e.store.isLogarithmic?4:1;e.slider=new a({bins:e.store.bins,min:e.store.lowerBound,max:e.store.upperBound,values:[e.store.min||e.store.lowerBound,e.store.max||e.store.upperBound],excludedBarColor:"#bfbfbf",rangeType:"between",container:e.sliderRef.current,precision:r}),e.slider.labelFormatFunction=e.labelFunction,e.listener=e.slider.watch("values",e.onValuesChange)})).catch((function(e){return console.log(e)}))}},{key:"componentWillUnmount",value:function(){this.listener&&this.listener.remove()}},{key:"render",value:function(){var e=this.store.min||0===this.store.min?this.store.min:this.store.lowerBound,t=this.store.max||0===this.store.max?this.store.max:this.store.upperBound;return this.slider&&this.store.loaded&&(this.slider.bins=this.store.bins,this.slider.min=this.store.lowerBound,this.slider.max=this.store.upperBound,this.slider.values=[e,t]),n.a.createElement("div",{style:{height:"6rem",width:"100%"}},n.a.createElement("div",{ref:this.sliderRef}))}}]),t}(n.a.Component)),W=(a(653),a(222)),Z=W.a.Option,_=d.a.Group,$=Object(w.a)((function(e){var t=e.store,a=e.mode,r=t.displayOptions.map((function(e){var a=e;return t.domainMap.has(e)&&(a=t.domainMap.get(e)),n.a.createElement(Z,{key:e},a)}));return n.a.createElement("div",{style:{marginBottom:"1rem"}},n.a.createElement(W.a,{mode:a,style:{width:"100%"},placeholder:"Please select",onSelect:"multiple"===a?null:t.onValueChange,onChange:"multiple"===a?t.onValueChange:null,value:t.selectValue},r))})),ee=Object(w.a)(function(e){function t(){var e,a;Object(h.a)(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(a=Object(f.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(n))))._onButtonClick=function(e){var t=e.target.id;a.props.store.onValueOptionChange(t)},a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.props.store.selectedOptionSet,a=this.props.store.domainMap,r=this.props.store.displayOptions.map((function(r){var i=r;return a.has(r)&&(i=a.get(r)),n.a.createElement(d.a,{id:r,style:{padding:"0px 10px"},onClick:e._onButtonClick,key:r,type:t.has(r)?"primary":"dashed",ghost:!!t.has(r)},i)}));return n.a.createElement("div",{style:{marginBottom:"1rem",margin:"auto"}},n.a.createElement(_,null,r))}}]),t}(n.a.Component)),te=Object(w.a)((function(e){var t=e.store,a=e.mode;if("buttons"!==e.style)return n.a.createElement($,{store:t,mode:a});if("multiple"!==a)throw new Error("Button selects only support multiple for now");return n.a.createElement(ee,{store:t})})),ae=a(313),re=a.n(ae),ne=(a(459),Y.a.Panel),ie=function(e){var t=e.title,a=e.icon,r=e.collapsible,i=e.defaultActive,o=e.children,s=e.open,c=e.onChange,u=a?n.a.createElement("h1",{style:{padding:"0px"}},a,n.a.createElement("span",{style:{marginLeft:"10px"}},t)):n.a.createElement("h1",{style:{padding:"0px"}},t);if(!r)return n.a.createElement(l.a,{size:"small",style:{marginTop:"10px"}},u,o);var p={bordered:!1,expandIconPosition:"right",className:"no-padding",defaultActiveKey:i?["panel-card"]:[]};return void 0!==s&&c&&(p.activeKey=s?["panel-card"]:[],p.onChange=c),n.a.createElement(l.a,{size:"small",style:{marginTop:"10px"}},n.a.createElement(Y.a,p,n.a.createElement(ne,{header:u,style:{border:0},className:"no-padding",key:"panel-card"},o)))},oe=(a(263),Y.a.Panel),se={borderRadius:4,border:0},le=Object(w.a)(function(e){function t(){var e,a;Object(h.a)(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(a=Object(f.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(n)))).state={activeKeys:[]},a.onAccordionChange=function(e){a.setState({activeKeys:e})},a.onToggleClick=function(){if(a.state.activeKeys.length>0)a.setState({activeKeys:[]});else{var e=a.props.store.filters.map((function(e){return e.field}));a.setState({activeKeys:e})}},a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.store.filters.map((function(e){var t=e.isActive?n.a.createElement("span",{style:{color:"#00abbc"}},n.a.createElement("b",null,e.alias)):e.alias,a=e.infoText?n.a.createElement(n.a.Fragment,null,n.a.createElement(P.a,{content:e.infoText,placement:"topLeft"},n.a.createElement(T.a,{type:"info-circle",style:{marginRight:"3px",color:e.isActive?"#00abbc":void 0}})),t):t;return n.a.createElement(oe,{header:a,key:e.field,style:se,className:"minimal-padding"},function(e){var t=e;switch(e.type){case"minmax":return t.hasHistograms?n.a.createElement(U,{store:t,key:t.field}):n.a.createElement(X,{store:t,key:t.field,lowerBoundLabel:t.lowerBoundLabel,upperBoundLabel:t.upperBoundLabel});case"multiselect":return n.a.createElement(te,{store:t,key:t.field,mode:"multiple",style:t.style});case"select":return n.a.createElement(te,{store:t,key:t.field,style:t.style});case"quantile":return n.a.createElement(te,{store:t,key:t.field,mode:"multiple",style:t.style});default:throw new Error("Unknown filter type!")}}(e))})),t=this.props.defaultActive||!1,a=this.props.activeFilterKeys||this.state.activeKeys,r=this.props.onFilterAccordionChange||this.onAccordionChange,i=void 0===this.props.panelOpen?void 0:this.props.panelOpen,o=this.props.onPanelChange?this.props.onPanelChange:void 0,s=this.props.onFilterToggleAllClick?this.props.onFilterToggleAllClick:this.onToggleClick,l=a.length>0?"Close all":"Open all";return n.a.createElement(ie,{title:"Filter",icon:n.a.createElement(re.a,{size:"20",style:{position:"relative",top:"3px",left:"0px"}}),collapsible:!0,open:i,onChange:o,defaultActive:t},n.a.createElement("div",{style:{display:"inline-block",width:"100%",padding:"0px 15px 10px 5px"}},n.a.createElement(d.a,{type:"danger",size:"small",ghost:!0,onClick:this.props.store.clearFilters},"Clear"),n.a.createElement(d.a,{size:"small",onClick:s,style:{float:"right"}},l)),n.a.createElement(Y.a,{activeKey:a,bordered:!1,expandIconPosition:"right",onChange:r},e))}}]),t}(n.a.Component)),ce=a(97),ue=a.n(ce),pe=J.a.Text,de={display:"block",height:"30px",lineHeight:"30px"},he=Object(w.a)(function(e){function t(){var e,a;Object(h.a)(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(a=Object(f.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(n)))).nonMainRenderer="harsh_acc_ratio",a.state={filterActiveKeys:[],filterPanelOpen:!1},a._updateAccordionForRender=function(e){if(!a.state.filterActiveKeys.includes(e)){var t=a.state.filterActiveKeys.slice();t.push(e),a.setState({filterActiveKeys:t,filterPanelOpen:!0})}},a.onRadioChange=function(e){var t=e.target.value;a.nonMainRenderer=t,a.props.store.setRendererField(t),a._updateAccordionForRender(t)},a.onSwitchChange=function(e){e?(a.props.store.setRendererField("eventvalue"),a._updateAccordionForRender("eventvalue")):(a.props.store.setRendererField(a.nonMainRenderer),a._updateAccordionForRender(a.nonMainRenderer))},a.onFilterAccordionClick=function(e){a.setState({filterActiveKeys:e})},a.onFilterToggleAllClick=function(){if(a.state.filterActiveKeys.length>0)a.setState({filterActiveKeys:[]});else{var e=a.props.store.filters.map((function(e){return e.field}));a.setState({filterActiveKeys:e})}},a.onFilterPanelChange=function(){var e=!a.state.filterPanelOpen;a.setState({filterPanelOpen:e})},a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e,t=this;this.props.store.aliasMap&&(e=this.props.store.rendererOptions.filter((function(e){return"eventvalue"!==e})).map((function(e){return n.a.createElement(G.a,{value:e,key:e,style:de},t.props.store.aliasMap.get(e))})));var a="eventvalue"===this.props.store.rendererField?this.nonMainRenderer:this.props.store.rendererField,r="eventvalue"===this.props.store.rendererField;return n.a.createElement(n.a.Fragment,null,n.a.createElement(ie,{icon:n.a.createElement(ue.a,{size:"20",style:{position:"relative",top:"4px",left:"0px"}}),title:"Layer Selection",collapsible:!0,defaultActive:!0},n.a.createElement("div",null,n.a.createElement(z.a,{onChange:this.onSwitchChange,checked:r,style:{float:"left",marginTop:"1px"}}),n.a.createElement("h3",{style:{display:"inline-block",margin:"0px 0px 2px 10px"}},"Road Risk Score")),n.a.createElement("p",{style:{margin:"10px 0px 5px 0px"}},n.a.createElement(pe,{strong:!0}," Toggle Road Risk Score off to explore individual data layers of the overall score")),n.a.createElement(G.a.Group,{disabled:r,onChange:this.onRadioChange,value:a},e)),n.a.createElement(le,{store:this.props.store,panelOpen:this.state.filterPanelOpen,onPanelChange:this.onFilterPanelChange,activeFilterKeys:this.state.filterActiveKeys,onFilterAccordionChange:this.onFilterAccordionClick,onFilterToggleAllClick:this.onFilterToggleAllClick}))}}]),t}(n.a.Component)),me=(a(470),a(224)),fe=(a(472),a(225)),ye=(a(230),a(164)),ge=a(317),ve=a.n(ge),be=function(){return n.a.createElement(ve.a,{filled:!0,size:"17"})},we=ye.a.Group,Ae=function(e){var t=e.title,a=e.value,r=a||0===a?" ".concat(Math.round(Math.abs(a)),"%"):" - - %",i={float:"right"},o="arrow-down";return a&&a>=0?(i.color="#f5222d",o="arrow-up"):a&&a<0&&(i.color="#52c41a",o="arrow-down"),n.a.createElement("div",null,t,n.a.createElement("span",{style:i},n.a.createElement(T.a,{type:o}),n.a.createElement("b",null,r)))},Ee=Object(w.a)(function(e){function t(){var e,a;Object(h.a)(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(a=Object(f.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(n)))).alertFading=!1,a.closeAlert=function(){a.alertFading=!0,a.props.store.clearRouteData()},a.afterCloseAlert=function(){a.alertFading=!1},a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"componentWillUnmount",value:function(){this.props.store.clearRouteData()}},{key:"render",value:function(){var e,t=this.props.store,a="start"===t.editMode||t.startGraphic?n.a.createElement(T.a,{type:"close"}):n.a.createElement(T.a,{component:be}),r="end"===t.editMode||t.endGraphic?n.a.createElement(T.a,{type:"close"}):n.a.createElement(T.a,{component:be});return t.safetyScoreDelta&&t.safetyScoreDelta>0||this.alertFading?e=n.a.createElement(fe.a,{style:{marginBottom:"10px"},message:"Invalid Results",description:"For a POC, we only consider high scoring roads, which can cause poor results in areas with many low scoring roads. Close this alert to reset",type:"error",onClose:this.closeAlert,afterClose:this.afterCloseAlert,closable:!0}):(t.safetyTimeDelta&&t.safetyTimeDelta>25||this.alertFading)&&(e=n.a.createElement(fe.a,{style:{marginBottom:"10px"},message:"Unrealistic Results",description:"Time difference is too high.",type:"warning",onClose:this.closeAlert,afterClose:this.afterCloseAlert,closable:!0})),console.log(t.safetyTimeDelta&&t.safetyTimeDelta<5),n.a.createElement(n.a.Fragment,null,n.a.createElement("p",null,"Route Start"),n.a.createElement(we,{compact:!0,style:{marginBottom:"15px"}},n.a.createElement(d.a,{style:{padding:"0px 10px"},onClick:function(e){return t.onCreateClick("start")},disabled:!t.isSketchLoaded},a),n.a.createElement(ye.a,{disabled:!0,style:{width:"calc(100% - 40px)",cursor:"default"},value:t.startStr})),n.a.createElement("p",null,"Route End"),n.a.createElement(we,{compact:!0,style:{marginBottom:"30px"}},n.a.createElement(d.a,{style:{padding:"0px 10px"},onClick:function(e){return t.onCreateClick("end")},disabled:!t.isSketchLoaded},r),n.a.createElement(ye.a,{disabled:!0,style:{width:"calc(100% - 40px)",cursor:"default"},value:t.endStr})),n.a.createElement(d.a,{size:"large",style:{width:"65%",marginRight:"5px"},disabled:!(t.startGraphic&&t.endGraphic),type:"primary",onClick:t.generateRoutes},"Generate routes"),n.a.createElement(d.a,{type:"danger",size:"large",disabled:!(t.startGraphic||t.endGraphic||t.stdTravelTime),ghost:!0,onClick:t.clearRouteData},"Clear"),n.a.createElement(c.a,null),e,n.a.createElement(l.a,{size:"small",style:{marginBottom:"15px"}},n.a.createElement("span",{style:{color:"rgba(0, 0, 0, 0.85)",fontWeight:"500",fontSize:"14px"}},n.a.createElement(Ae,{title:"Travel Risk Score Change",value:t.safetyScoreDelta}))),n.a.createElement(l.a,{title:n.a.createElement(Ae,{title:"Travel Time Change",value:t.safetyTimeDelta}),size:"small"},n.a.createElement(me.a,{title:"Without accounting for risk",value:t.stdTravelTime?t.stdTravelTime:" - - ",precision:0,prefix:n.a.createElement(T.a,{type:"minus",style:{color:"rgb(94, 43, 255)"}}),suffix:"min"}),n.a.createElement(me.a,{title:"Accounting for risk",value:t.safetyTravelTime?t.safetyTravelTime:" - - ",precision:0,prefix:n.a.createElement(T.a,{type:"minus",style:{color:"rgb(227, 69, 143)"}}),suffix:"min"})))}}]),t}(n.a.Component)),ke=a(62),Oe=(a(268),a(45)),je=a(333),Ce=function(){function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Object(h.a)(this,e),this.field=t,this.fieldInfo={},this.infoText=a&&a.info?a.info:null,this.isDynamic=!(!a||!a.dynamic)&&a.dynamic}return Object(m.a)(e,[{key:"setFieldInfoFromLayer",value:function(e){var t=this;this.fieldInfo=e.fields.find((function(e){return e.name===t.field}))}},{key:"load",value:function(e){if(!e.loaded)throw new Error("Please wait until the layer is loaded");this.setFieldInfoFromLayer(e)}},{key:"alias",get:function(){return this.fieldInfo?this.fieldInfo.alias:null}},{key:"where",get:function(){return null}},{key:"isActive",get:function(){return!!this.where}}]),e}();Object(k.i)(Ce,{fieldInfo:k.n,alias:k.f,where:k.f,isActive:k.f,load:k.d.bound,setFieldInfoFromLayer:k.d.bound});var xe=Ce,Be=function(e){return e?e.codedValues.reduce((function(e,t){return e.set(t.code,t.name),e}),new Map):new Map},Se=function(e,t,a){var r=t||0===t,n=a||0===a,i=null;return r&&n?i=e+" <= "+a+" AND "+e+" >= "+t:n?i=e+" <= "+a:r&&(i=e+" >= "+t),i},Fe=function(e){function t(e){var a,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Object(h.a)(this,t),(a=Object(f.a)(this,Object(y.a)(t).call(this,e,r))).type="select",a.loaded=!1,a.options=[],a.selectValue=null,a.domainMap=new Map,a.style=r&&r.style?r.style:"dropdown",a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"_setFromQueryResults",value:function(e){var t=this;this.options=e.features.map((function(e){return e.attributes[t.field]})).sort(),this.loaded=!0}},{key:"load",value:function(e){Object(ke.a)(Object(y.a)(t.prototype),"load",this).call(this,e);var a=e.getFieldDomain(this.field);a&&(this.domainMap=Be(a)),e.queryFeatures({where:"1=1",returnDistinctValues:!0,outFields:[this.field]}).then(this._setFromQueryResults)}},{key:"refresh",value:function(e,a){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"1=1";Object(ke.a)(Object(y.a)(t.prototype),"load",this).call(this,e);var n=e.getFieldDomain(this.field);n&&(this.domainMap=Be(n)),a.queryFeatures({where:r,returnDistinctValues:!0,outFields:[this.field]}).then(this._setFromQueryResults)}},{key:"onValueChange",value:function(e){this.selectValue===e?this.selectValue=null:this.selectValue=e}},{key:"clear",value:function(){this.selectValue=null}},{key:"where",get:function(){return function(e,t,a){if(!t)return null;return"string"===a?"".concat(e," = '").concat(t,"'"):"".concat(e," = ").concat(t)}(this.field,this.selectValue,this.fieldInfo.type)}},{key:"optionSet",get:function(){return new Set(this.options)}},{key:"displayOptions",get:function(){return this.options.slice().sort()}}]),t}(xe);Object(k.i)(Fe,{options:k.n,loaded:k.n,selectValue:k.n,load:k.d.bound,where:k.f,onValueChange:k.d.bound,clear:k.d.bound,_setFromQueryResults:k.d.bound,optionSet:k.f,displayOptions:k.f});var Re=Fe,Te=function(e){function t(e,a){var r;return Object(h.a)(this,t),(r=Object(f.a)(this,Object(y.a)(t).call(this,e,a))).type="minmax",r.bins=[],r.loaded=!1,r.min=null,r.max=null,r.lowerBound=a.lowerBound||null,r.upperBound=a.upperBound||null,r.upperBoundSupplied=null!==r.upperBound,r.lowerBoundSupplied=null!==r.lowerBound,r.logBase=10,r.isLogarithmic=a.isLogarithmic||!1,r.numBins="undefined"===typeof a.numBins?50:a.numBins,r.hasHistograms=a.hasHistograms||!1,r.upperBoundLabel=a.upperBoundLabel||null,r.lowerBoundLabel=a.lowerBoundLabel||null,r}return Object(g.a)(t,e),Object(m.a)(t,[{key:"_setBoundsFromQueryResult",value:function(e){var t=Object(L.a)(e,2),a=t[0],r=t[1];return this.lowerBound=Math.floor(a),this.upperBound=Math.ceil(r),this.isLogarithmic&&(this.lowerBoundSupplied||0===this.lowerBound||(this.lowerBound=Math.floor(Math.log(this.lowerBound)/Math.log(this.logBase)*100)/100),this.upperBoundSupplied||0===this.upperBound||(this.upperBound=Math.ceil(Math.log(this.upperBound)/Math.log(this.logBase)*100)/100)),[this.lowerBound,this.upperBound]}},{key:"_setHistogramBins",value:function(e,t){var a=this;return Object(H.loadModules)(["esri/renderers/smartMapping/statistics/histogram"],K).then((function(r){return(0,Object(L.a)(r,1)[0])({layer:e,field:a.field,numBins:a.numBins,minValue:a.lowerBound,maxValue:a.upperBound,valueExpression:a.isLogarithmic?"IIf($feature.".concat(a.field," != 0,Log($feature.").concat(a.field,") / Log(").concat(a.logBase,"),0)"):"$feature.".concat(a.field),view:t})})).then((function(e){a.bins=e.bins}))}},{key:"load",value:function(e,a){var r=this;Object(ke.a)(Object(y.a)(t.prototype),"load",this).call(this,e);var n,i=this.field,o=this.lowerBound||0===this.lowerBound,s=this.upperBound||0===this.upperBound;if(o&&s)n=Promise.resolve([this.lowerBound,this.upperBound]);else{var l=[];o||l.push(function(e){return{onStatisticField:e,outStatisticField:"MIN_".concat(e),statisticType:"min"}}(i)),s||l.push(function(e){return{onStatisticField:e,outStatisticField:"MAX_".concat(e),statisticType:"max"}}(i)),n=e.queryFeatures({where:"1=1",outStatistics:l}).then((function(e){var t=e.features[0].attributes;return[o?r.lowerBound:t["MIN_".concat(i)],s?r.upperBound:t["MAX_".concat(i)]]}))}n.then((function(t){return r._setBoundsFromQueryResult(t),r.hasHistograms?r._setHistogramBins(e,a):Promise.resolve()})).then((function(e){return r.loaded=!0}))}},{key:"onValuesChange",value:function(e,t){this.min=e,this.max=t}},{key:"clear",value:function(){this.min=this.lowerBound,this.max=this.upperBound}},{key:"where",get:function(){var e;if(this.min<=this.lowerBound&&this.max>=this.upperBound)e=null;else{var t=!this.upperBoundSupplied&&this.isLogarithmic?Math.pow(this.logBase,this.max):this.max,a=!this.lowerBoundSupplied&&this.isLogarithmic?Math.pow(this.logBase,this.min):this.min;e=Se(this.field,a,t)}return e}}]),t}(xe);Object(k.i)(Te,{min:k.n,max:k.n,loaded:k.n,fieldInfo:k.n,where:k.f,load:k.d.bound,onValuesChange:k.d.bound,clear:k.d.bound});var Le=Te,Me=function(e){function t(){var e,a;Object(h.a)(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(a=Object(f.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(n)))).type="multiselect",a.selectValue=[],a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"onValueChange",value:function(e){this.selectValue=e,console.log(e)}},{key:"onValueOptionChange",value:function(e){e&&(this.selectedOptionSet.has(e)?this.selectValue=this.selectValue.slice().filter((function(t){return t!==e})):this.selectValue.push(e))}},{key:"clear",value:function(){this.selectValue=[]}},{key:"where",get:function(){return function(e,t,a){if(!t||t.length<1)return null;var r=null;if("string"===a){var n=t.join("','");r="".concat(e," IN ('").concat(n,"')")}else{var i=t.join(",");r="".concat(e," IN (").concat(i,")")}return r}(this.field,this.selectValue,this.fieldInfo.type)}},{key:"selectedOptionSet",get:function(){return new Set(this.selectValue)}}]),t}(Re);Object(k.i)(Me,{onValueChange:k.d.bound,clear:k.d.bound,where:k.f,selectedOptionSet:k.f});var De=Me,Ve=function(e){function t(e){var a,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(Object(h.a)(this,t),(a=Object(f.a)(this,Object(y.a)(t).call(this,e,r))).type="quantile",a.options=[],a.quantiles=r.quantiles,!a.quantiles)throw new Error("Please provide quantile breaks");return a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"load",value:function(e){var a=this;Object(ke.a)(Object(y.a)(t.prototype),"setFieldInfoFromLayer",this).call(this,e),this.loaded=!0,this.options=this.quantiles.map((function(e){return e.label})),this.selectValue=this.options.slice(),this.labelMap=new Map,this.quantiles.forEach((function(e){return a.labelMap.set(e.label,e)}))}},{key:"clear",value:function(){this.selectValue=this.options.slice()}},{key:"where",get:function(){if(this.options.length===this.selectValue.length)return null;for(var e,t,a=0;a<this.selectValue.length;a++){var r=this.selectValue[a],n=this.labelMap.get(r);e=void 0!==n.min&&(void 0===e||n.min<e)?n.min:e,t=void 0!==n.max&&(void 0===t||n.max>t)?n.max:t}return console.log(e,t),Se(this.field,e,t)}},{key:"displayOptions",get:function(){return this.options.slice()}}]),t}(De);Object(k.i)(Ve,{options:k.n,load:k.d.bound,where:k.f,displayOptions:k.f,clear:k.d.bound});var Ie,Qe=Ve;Oe.a.config({top:75});var Ne=function(){function e(t,a){Object(h.a)(this,e),this.credential={},this.aliasMap=null,this.chartResultMap=new Map,this.map=null,this.layerVisibleMap=new Map,this.tooltipResults=null,this.bookmarkInfo=null,this.appState=t,this.layerId=a.layerItemId,this.mapId=a.webmapId,this.filters=a.filters.map((function(e){switch(e.type){case"minmax":return new Le(e.name,e.params);case"multiselect":return new De(e.name,e.params);case"select":return new Re(e.name,e.params);case"quantile":return new Qe(e.name,e.params);default:throw new Error("Unknown filter type!")}})),this.charts=a.charts||[],this.renderers=a.renderers,this.rendererOptions=Object(je.a)(Object.keys(this.renderers)),this.rendererField=a.initialRendererField,this.popupTemplate=a.popupTemplate,this.layerLoaded=!1,this.viewConfig=a.viewConfig,this.outFields=a.outFields,this.hasCustomTooltip=a.hasCustomTooltip,this.bookmarkInfos=a.bookmarkInfos}return Object(m.a)(e,[{key:"destroy",value:function(){this.effectHandler&&this.effectHandler(),this.rendererHandler&&this.rendererHandler(),this._tooltipListener&&this._tooltipListener.remove()}},{key:"loadFilters",value:function(){var e=this;this.filters.forEach((function(t){return t.load(e.lyr,e.view)}))}},{key:"loadCharts",value:function(){var e=this;!this.charts||this.charts.length<1||this.charts.forEach((function(t){e.lyr.queryFeatures(t.queryDefinition).then((function(a){var r=t.resultTransform?t.resultTransform(a):a;e.chartResultMap.set(t.id,r)}))}))}},{key:"_loadLayers",value:function(){var e=this;this.view.whenLayerView(this.lyr).then((function(t){Oe.a.destroy(),e.lyrView=t,e.loadFilters(),e.loadCharts(),e.map.layers.forEach((function(t){e.layerVisibleMap.set(t.id,t.visible)})),e.hasCustomTooltip&&(e._tooltipListener=e.view.on("pointer-move",e._onMouseMove)),e.aliasMap=e.lyr.fields.reduce((function(e,t){return e.set(t.name,t.alias),e}),new Map),e.layerLoaded=!0})).catch((function(e){Oe.a.destroy(),Oe.a.error("Error loading the layers, does your account have access to the data?",4),console.log(e)}))}},{key:"_buildAutoRunEffects",value:function(){var e=this,t=Ie.debounce((function(e,t){e.filter={where:t}}));this.effectHandler=Object(k.e)((function(a){var r=e.where;e.lyrView&&t&&t(e.lyrView,r)})),this.rendererHandler=Object(k.e)((function(t){var a=e.rendererField;if(e.lyr){var r=e.renderers[a];"jsapi"!==r._type?Object(H.loadModules)(["esri/renderers/support/jsonUtils"],K).then((function(t){var r=Object(L.a)(t,1)[0];e.lyr.renderer=r.fromJSON(e.renderers[a])})):e.lyr.renderer=r}}))}},{key:"_onMouseMove",value:function(e){Ie.debounce((function(e,t){return e.view.hitTest(t).then((function(t){e._tooltipHighlight&&(e._tooltipHighlight.remove(),e._tooltipHighlight=null);var a=t.results.filter((function(t){return t.graphic.layer===e.lyr}));if(a.length){var r=a[a.length-1].graphic,n=t.screenPoint;e._tooltipHighlight=e.lyrView.highlight(r),e.tooltipResults={screenPoint:n,graphic:r}}else e.tooltipResults=null}))}))(this,e)}},{key:"setRendererField",value:function(e){this.rendererField=e}},{key:"toggleLayerVisibility",value:function(e){var t=!e.visible;e.visible=t,this.layerVisibleMap.set(e.id,t)}},{key:"load",value:function(e){var t,a=this;return Oe.a.loading("Loading data.",0),Object(H.loadModules)(["esri/WebMap","esri/Map","esri/views/MapView","esri/layers/FeatureLayer","esri/core/promiseUtils","esri/identity/IdentityManager","esri/renderers/support/jsonUtils","esri/geometry/SpatialReference"],K).then((function(r){var n=Object(L.a)(r,8),i=n[0],o=n[1],s=n[2],l=n[3],c=n[4],u=n[5],p=n[6];n[7];if(u.registerToken(a.appState.session.toCredential()),Ie=c,a._buildAutoRunEffects(),a.renderers&&a.renderers[a.rendererField]&&(t="jsapi"===a.renderers[a.rendererField]._type?a.renderers[a.rendererField]:p.fromJSON(a.renderers[a.rendererField])),a.view=new s({container:e,center:a.viewConfig.center,zoom:a.viewConfig.zoom}),a.mapId)return a.map=new i({portalItem:{id:a.mapId}}),a.view.map=a.map,a.map.when();var d=new l({portalItem:{id:a.layerId}});return a.map=new o({basemap:"dark-gray-vector",layers:[d]}),a.view.map=a.map,Promise.resolve()})).then((function(e){return a.lyr=a.map.layers.find((function(e){return e.portalItem.id===a.layerId})),t&&(a.lyr.renderer=t),a.outFields&&(a.lyr.outFields=a.outFields),void 0!==a.popupTemplate&&(a.lyr.popupTemplate=a.popupTemplate),a._loadLayers(),a.view})).catch((function(e){Oe.a.destroy(),Oe.a.error("Error creating the map, please refresh for now")}))}},{key:"clearFilters",value:function(){this.filters.forEach((function(e){return e.clear()}))}},{key:"onBookmarkClick",value:function(e){if(this.view&&!(e>=this.bookmarks.length)){var t=this.bookmarks[e];this.view.goTo(t.extent),this.bookmarkInfos&&(console.log("bookmark setting",t.name),this.bookmarkInfo=this.bookmarkInfos[t.name])}}},{key:"onClearBookmark",value:function(){this.bookmarkInfo=null}},{key:"where",get:function(){var e=this.filters.filter((function(e){return!!e.where})).map((function(e){return e.where})).join(" AND ");return e||"1=1"}},{key:"layers",get:function(){return this.map&&this.layerLoaded?this.map.layers.items.reverse():[]}},{key:"bookmarks",get:function(){return this.map&&this.layerLoaded?this.map.bookmarks.items:[]}}]),e}();Object(k.i)(Ne,{user:k.n,rendererField:k.n,layerLoaded:k.n,aliasMap:k.n,layerVisibleMap:k.n,chartResultMap:k.n.shallow,tooltipResults:k.n.shallow,bookmarkInfo:k.n.ref,map:k.n.ref,where:k.f,layers:k.f,bookmarks:k.f,load:k.d.bound,_loadLayers:k.d.bound,loadFilters:k.d.bound,loadCharts:k.d.bound,setRendererField:k.d.bound,clearFilters:k.d.bound,toggleLayerVisibility:k.d.bound,_onMouseMove:k.d.bound,onBookmarkClick:k.d.bound,onClearBookmark:k.d.bound});var He=Ne;Oe.a.config({top:"75px"});var Ke={onStatisticField:"eventvalue",outStatisticFieldName:"score_sum",statisticType:"sum"},ze=function(e){function t(){var e,a;Object(h.a)(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(a=Object(f.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(n)))).editMode=null,a.startGraphic=null,a.endGraphic=null,a.startStr="",a.endStr="",a.isSketchLoaded=!1,a.stdRoute=null,a.stdTravelTime=null,a.stdTravelScore=null,a.scoreRoute=null,a.safetyTravelTime=null,a.safetyTravelScore=null,a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"load",value:function(e){var a=this;return Object(ke.a)(Object(y.a)(t.prototype),"load",this).call(this,e).then((function(e){return Object(H.loadModules)(["esri/widgets/Sketch/SketchViewModel","esri/layers/FeatureLayer","esri/geometry/SpatialReference"],K).then((function(t){var r=Object(L.a)(t,3),n=r[0],i=r[1],o=r[2];a.sketchVM=new n({view:e,layer:e.graphics}),a.sketchListener=a.sketchVM.on("create",a.onCreateComplete),a.isSketchLoaded=!0,a.routeResultLyr=new i({title:"Route Results",geometryType:"polyline",spatialReference:o.WebMercator,objectIdField:"oid",source:[]}),a.map.add(a.routeResultLyr)})),e}))}},{key:"clearRouteData",value:function(){this.startGraphic&&(this.view.graphics.remove(this.startGraphic),this.startGraphic=null),this.endGraphic&&(this.view.graphics.remove(this.endGraphic),this.endGraphic=null),this.stdRoute&&(this.view.graphics.remove(this.stdRoute),this.stdRoute=null),this.scoreRoute&&(this.view.graphics.remove(this.scoreRoute),this.scoreRoute=null),this.editMode=null,this.startStr="",this.endStr="",this.stdTravelTime=null,this.stdTravelScore=null,this.safetyTravelTime=null,this.safetyTravelScore=null}},{key:"onCreateComplete",value:function(e){"complete"===e.state&&("start"===this.editMode?(this.startGraphic=e.graphic,this.setAddressFromGeocode("start",this.startGraphic)):"end"===this.editMode?(this.endGraphic=e.graphic,this.setAddressFromGeocode("end",this.endGraphic)):this.view.graphics.remove(e.graphic),this.startGraphic&&this.endGraphic&&this.view.goTo([this.startGraphic,this.endGraphic]))}},{key:"setAddressFromGeocode",value:function(e,t){var a=this;Object(H.loadModules)(["esri/tasks/Locator"],K).then((function(e){return new(0,Object(L.a)(e,1)[0])({url:"https://geocode.arcgis.com/arcgis/rest/services/World/GeocodeServer"}).locationToAddress({location:t.geometry,locationType:"street"})})).then((function(t){"start"===e?a.startStr=t.address:"end"===e&&(a.endStr=t.address)})).catch((function(e){Oe.a.error("Error converting point to an address, please retry!")}))}},{key:"onCreateClick",value:function(e){"start"===e&&this.startGraphic&&(this.view.graphics.remove(this.startGraphic),this.startGraphic=null,this.editMode=e,this.startStr=""),"end"===e&&this.endGraphic&&(this.view.graphics.remove(this.endGraphic),this.endGraphic=null,this.editMode=e,this.endStr=""),this.editMode===e?(this.editMode=null,"active"===this.sketchVM.state&&this.sketchVM.cancel()):(this.sketchVM.create("point"),this.editMode=e)}},{key:"generateStdRoute",value:function(){var e=this;return Object(H.loadModules)(["esri/tasks/RouteTask","esri/tasks/support/RouteParameters","esri/tasks/support/FeatureSet","esri/geometry/SpatialReference"],K).then((function(t){var a=Object(L.a)(t,4),r=a[0],n=a[1],i=a[2],o=a[3],s=new r({url:"https://route.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World/solve"}),l=new n({stops:new i,outSpatialReference:o.WebMercator,impedanceAttribute:"Miles",accumulateAttributes:["TravelTime"]});return l.stops.features.push(e.startGraphic),l.stops.features.push(e.endGraphic),s.solve(l)})).then((function(t){return e.stdRoute&&e.view.graphics.remove(e.stdRoute),e.stdRoute=t.routeResults[0].route,e.stdRoute.symbol={type:"simple-line",color:[94,43,255,1],width:3},e.stdTravelTime=e.stdRoute.attributes.Total_TravelTime,e.view.graphics.add(e.stdRoute),e.lyrView.queryFeatures({where:"1=1",geometry:e.stdRoute.geometry,outStatistics:[Ke]})})).then((function(t){t.features&&t.features.length&&(e.stdTravelScore=t.features[0].attributes.score_sum)}))}},{key:"generateScoreRoute",value:function(){var e=this,t=this.lyrView.queryFeatures({where:"eventvalue > 0",geometry:this.view.extent,spatialRelationship:"contains",orderByFields:["eventvalue DESC"],returnGeometry:!0,outFields:["eventvalue","OBJECTID"]}),a=Object(H.loadModules)(["esri/tasks/RouteTask","esri/tasks/support/RouteParameters","esri/tasks/support/FeatureSet","esri/geometry/SpatialReference","esri/geometry/geometryEngine"],K);return Promise.all([t,a]).then((function(t){var a=Object(L.a)(t,2),r=a[0],n=Object(L.a)(a[1],5),i=n[0],o=n[1],s=n[2],l=n[3],c=n[4],u=new i({url:"https://route.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World/solve"}),p=new o({stops:new s,polygonBarriers:new s,outSpatialReference:l.WebMercator,impedanceAttribute:"Miles",accumulateAttributes:["TravelTime"]});p.stops.features.push(e.startGraphic),p.stops.features.push(e.endGraphic);var d=r.features.slice(0,150).map((function(e,t){return{geometry:c.geodesicBuffer(e.geometry,15,"meters"),attributes:{Name:e.attributes.ObjectId,BarrierType:1,Attr_Miles:e.attributes.eventvalue/4}}}));return p.polygonBarriers.features=d,u.solve(p)})).then((function(t){return console.log("score",t),e.scoreRoute&&e.view.graphics.remove(e.scoreRoute),e.scoreRoute=t.routeResults[0].route,e.scoreRoute.symbol={type:"simple-line",color:[227,69,143,1],width:3},e.safetyTravelTime=e.scoreRoute.attributes.Total_TravelTime,e.view.graphics.add(e.scoreRoute),e.lyrView.queryFeatures({where:"1=1",geometry:e.scoreRoute.geometry,outStatistics:[Ke]})})).then((function(t){t.features&&t.features.length&&(e.safetyTravelScore=t.features[0].attributes.score_sum)}))}},{key:"generateRoutes",value:function(){var e=this;Oe.a.loading("Generating routes!",0),Object(H.loadModules)(["esri/tasks/RouteTask","esri/tasks/support/RouteParameters","esri/tasks/support/FeatureSet","esri/geometry/SpatialReference"],K).then((function(t){return Promise.all([e.generateStdRoute(),e.generateScoreRoute()])})).then((function(t){e.view.goTo([e.scoreRoute,e.stdRoute]),Oe.a.destroy()})).catch((function(e){Oe.a.destroy(),Oe.a.error("Error generating routes, please retry!")}))}},{key:"safetyScoreDelta",get:function(){return this.stdTravelScore&&this.safetyTravelScore?(this.safetyTravelScore-this.stdTravelScore)/this.stdTravelScore*100:null}},{key:"safetyTimeDelta",get:function(){return this.stdTravelTime&&this.safetyTravelTime?(this.safetyTravelTime-this.stdTravelTime)/this.stdTravelTime*100:null}}]),t}(He);Object(k.i)(ze,{editMode:k.n,startGraphic:k.n,endGraphic:k.n,startStr:k.n,endStr:k.n,isSketchLoaded:k.n,stdTravelTime:k.n,safetyTravelTime:k.n,stdTravelScore:k.n,safetyTravelScore:k.n,onStartClick:k.d.bound,onEndClick:k.d.bound,load:k.d.bound,onCreateComplete:k.d.bound,setAddressFromGeocode:k.d.bound,generateRoutes:k.d.bound,generateStdRoute:k.d.bound,clearRouteData:k.d.bound});var Ge=ze,Je=function(e,t,a){return{_type:"jsapi",type:"simple",symbol:{type:"simple-line",width:"2.5px"},label:"Road segment",visualVariables:[{type:"color",field:e,stops:[{value:t[0],color:[44,123,182,255],label:"".concat(a[0])},{value:t[1],color:[171,217,233,255],label:null},{value:t[2],color:[255,255,191,255],label:"".concat(a[1])},{value:t[3],color:[253,174,97,255],label:null},{value:t[4],color:[215,25,28,255],label:"".concat(a[2])}]}]}},Pe={layerItemId:"e37cc788804e4303b6e7898481798691",webmapId:"906b58f399944774a29e05d3d24a939b",initialRendererField:"eventvalue",renderers:{eventvalue:{_type:"jsapi",type:"class-breaks",field:"eventvalue",classBreakInfos:[{minValue:0,maxValue:2.499,symbol:{type:"simple-line",width:"2.5px",color:[171,217,233,255]},label:"Low"},{minValue:2.5,maxValue:5.6453,symbol:{type:"simple-line",width:"2.5px",color:[255,255,191,255]},label:"Average"},{minValue:5.6454,maxValue:12.499,symbol:{type:"simple-line",width:"2.5px",color:[253,174,97,255]},label:"High"},{minValue:12.5,maxValue:1e3,symbol:{type:"simple-line",width:"2.5px",color:[215,25,28,255]},label:"Very High"}]},harsh_acc_ratio:Je("harsh_acc_ratio",[0,3.5,7,10.5,14],["Low","Medium","High"]),harsh_cornering_ratio:Je("harsh_cornering_ratio",[0,1.86,3.7,5.56,7.4],["Low","Medium","High"]),pedestrians_density:Je("pedestrians_density",[0,.3,.61,.9,1.2],["Low","Medium","High"]),bicycles_density:Je("bicycles_density",[0,.056,.112,.166,.22],["Low","Medium","High"]),speeding_ratio:Je("speeding_ratio",[0,3.7,7.5,11.2,15],["Low","Medium","High"]),avarge_speed:Je("avarge_speed",[28,38,48,58,68],["< 25","50","> 70"]),pcw:Je("pcw",[0,.01181361,.02357791,.03498221,.05745235],["Low","Medium","High"]),fcw:Je("fcw",[0,1.35499499,2.66894309,6.03785078,8.2561676],["Low","Medium","High"])},filters:[{name:"eventvalue",type:"quantile",params:{quantiles:[{min:0,max:2.5,label:"Low"},{min:2.5,max:5.6453,label:"Average"},{min:5.6453,max:12.5,label:"High"},{min:12.5,max:1e3,label:"Very High"}],info:"Road risk score based on the variables below.",style:"buttons"}},{name:"harsh_acc_ratio",type:"minmax",params:{isLogarithmic:!1,hasHistograms:!1,lowerBoundLabel:"low",upperBoundLabel:"high",info:"Percentage of cars that brake harshly in the segment."}},{name:"harsh_cornering_ratio",type:"minmax",params:{isLogarithmic:!1,hasHistograms:!1,lowerBoundLabel:"low",upperBoundLabel:"high",info:"Percentage of cars that turn the corner with high G-force."}},{name:"pedestrians_density",type:"minmax",params:{isLogarithmic:!1,hasHistograms:!1,lowerBoundLabel:"low",upperBoundLabel:"high",info:"Density of pedestrians over the segment."}},{name:"bicycles_density",type:"minmax",params:{isLogarithmic:!1,hasHistograms:!1,lowerBoundLabel:"low",upperBoundLabel:"high",info:"Density of bicycles over the segment."}},{name:"speeding_ratio",type:"minmax",params:{isLogarithmic:!1,hasHistograms:!1,lowerBoundLabel:"low",upperBoundLabel:"high",info:"The percentage of vehicles that drive a standard deviation above the average speed at the segment."}},{name:"avarge_speed",type:"minmax",params:{isLogarithmic:!1,hasHistograms:!1,lowerBoundLabel:"0",upperBoundLabel:"140",info:"Average speed of the respective segment. (Does not contribute to risk score on its own)."}},{name:"pcw",type:"minmax",params:{isLogarithmic:!1,hasHistograms:!1,lowerBoundLabel:"low",upperBoundLabel:"high",info:"Pedestrian and cyclist collision warning (PCW)"}},{name:"fcw",type:"minmax",params:{isLogarithmic:!1,hasHistograms:!1,lowerBoundLabel:"low",upperBoundLabel:"high",info:"Forward collision warning (FCW)"}}],hasCustomTooltip:!0,outFields:["eventvalue","harsh_cornering_ratio","harsh_acc_ratio","pedestrians_density","bicycles_density","speeding_ratio","avarge_speed","pcw","fcw"],popupTemplate:null,viewConfig:{center:[-74.00157,40.71955],zoom:12},bookmarkInfos:{"Willamsburg Bridge":{title:"Williamsburg Bridge",content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."},Jerusalem:{title:"Jerusalem",content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."},Manhattan:{title:"Manhattan",content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."}}},Ye=function(e){function t(){var e,a;Object(h.a)(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(a=Object(f.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(n)))).onClick=function(){a.props.onClick(a.props.id)},a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.bookmark;return n.a.createElement(l.a,{style:{marginBottom:"5px"},key:e.name},n.a.createElement("h3",{style:{margin:0,display:"inline-block"}},e.name),n.a.createElement(d.a,{style:{float:"right"},ghost:!0,type:"primary",onClick:this.onClick},"Explore"))}}]),t}(n.a.PureComponent),qe=Object(w.a)((function(e){var t=e.store,a=t.bookmarks.map((function(e,a){return n.a.createElement(Ye,{bookmark:e,id:a,key:e.name,onClick:t.onBookmarkClick})}));return n.a.createElement(n.a.Fragment,null,a)})),Xe=(a(483),a(332)),Ue=Pe.filters.find((function(e){return"eventvalue"===e.name})).params.quantiles,We=function(e){for(var t=0;t<Ue.length;t++)if(e<Ue[t].max)return Ue[t].label;return""},Ze=Object(w.a)((function(e){var t=e.store;if(!t.tooltipResults)return null;var a=t.tooltipResults,r=a.graphic,i=a.screenPoint,o=i.x,s=i.y,c=t.rendererField&&"eventvalue"!==t.rendererField,u={display:"block",position:"absolute",top:"".concat(c?s-115:s-405,"px"),left:"".concat(o-110,"px"),width:"220px",height:c?"110px":"400px",overflow:"auto",zIndex:"99",pointerEvents:"none"};r||(u.display="none");var p=r.attributes,d=t.aliasMap,h=t.filters.filter((function(e){var a=p.hasOwnProperty(e.field)&&"minmax"===e.type&&"eventvalue"!==e.field;return c?a&&t.rendererField===e.field:a})).map((function(e){return n.a.createElement("div",{key:e.field},e.alias,n.a.createElement(Xe.a,{percent:Math.round(p[e.field]/e.upperBound*100),status:"normal",showInfo:!1}))}));return n.a.createElement(l.a,{className:"antd-esri-widget",style:u,size:"small",title:"".concat(d.get("eventvalue"),": ").concat(We(p.eventvalue))},h)})),_e=a(320),$e=a.n(_e),et=b.a.Header,tt=b.a.Content,at=b.a.Sider,rt=function(){return n.a.createElement(D.a,{size:"18",filled:!0})},nt=function(){return n.a.createElement(I.a,{size:"18",filled:!0})},it=function(){return n.a.createElement(N.a,{size:"20",filled:!0})},ot=Object(w.a)(function(e){function t(e,a){var r;return Object(h.a)(this,t),(r=Object(f.a)(this,Object(y.a)(t).call(this,e,a))).state={collapsed:!0,loaded:!1,navKey:null},r.onCollapse=function(e){r.setState({collapsed:e})},r.onSelect=function(e){var t=r.state.navKey===e.key?null:e.key;r.setState({navKey:t}),r.store.onClearBookmark()},r.onClose=function(){r.setState({navKey:null}),r.store.onClearBookmark()},r.onSignOutClick=function(){r.props.appState.logout()},r.componentDidMount=function(){var e=Object(H.loadModules)(["esri/widgets/Search","esri/widgets/Legend"],K),t=r.store.load(r.mapViewRef.current);Promise.all([e,t]).then((function(e){var t=Object(L.a)(e,2),a=Object(L.a)(t[0],2),n=a[0],i=a[1],o=t[1];r.view=o;var s=new n({view:r.view});r.view.ui.add(s,"top-right");var l=new i({view:r.view,layerInfos:[{layer:r.store.lyr,title:""}]});r.view.popup.actions.removeAll(),r.view.ui.add(l,"bottom-right"),r.view.ui.move("zoom","top-right")}))},r.mapViewRef=n.a.createRef(),r.store=new Ge(e.appState,Pe),r}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e;switch(this.state.navKey){case"Data Layers":e=n.a.createElement(he,{store:this.store});break;case"Saved Locations":e=n.a.createElement(qe,{store:this.store});break;case"Route":e=n.a.createElement(Ee,{store:this.store});break;default:e=null}var t,a=this.props.appState.displayName?n.a.createElement(R.a,{mode:"horizontal",style:{lineHeight:"64px",float:"right"}},n.a.createElement(R.a.Item,{key:"sign in",onClick:this.onSignOutClick},n.a.createElement(T.a,{type:"logout"}),this.props.appState.displayName)):null,r=this.store.hasCustomTooltip?n.a.createElement(Ze,{store:this.store}):null;return this.store.bookmarkInfo&&(t=n.a.createElement(l.a,{title:this.store.bookmarkInfo.title,className:"antd-esri-widget",style:{position:"absolute",bottom:"30px",width:"400px",left:"50%",marginLeft:"-200px"},size:"small"},this.store.bookmarkInfo.content)),n.a.createElement(b.a,{style:{minHeight:"100vh"}},n.a.createElement(at,{collapsible:!0,collapsed:this.state.collapsed,onCollapse:this.onCollapse},n.a.createElement("img",{src:$e.a,alt:"Mobileye Logo",style:{height:"40px",margin:"12px"}}),n.a.createElement(R.a,{defaultSelectedKeys:["0"],mode:"inline",theme:"dark",selectedKeys:[this.state.navKey],onClick:this.onSelect},n.a.createElement(R.a.Item,{key:"Data Layers"},n.a.createElement(T.a,{component:rt}),n.a.createElement("span",null,"Data Layers")),n.a.createElement(R.a.Item,{key:"Route"},n.a.createElement(T.a,{component:it}),n.a.createElement("span",null,"Route")),n.a.createElement(R.a.Item,{key:"Saved Locations"},n.a.createElement(T.a,{component:nt}),n.a.createElement("span",null,"Saved Locations")))),n.a.createElement(b.a,null,n.a.createElement(et,{style:{paddingLeft:"1rem",paddingRight:"0rem",background:"white"}},n.a.createElement("h1",{style:{float:"left"}},"Road Risk Score\xa0\xa0  "),n.a.createElement("div",{style:{float:"left"}}," (Data presented from Sep 1st - October 22nd)"),a),n.a.createElement(tt,null,n.a.createElement(u.a,null,n.a.createElement(p.a,{span:24,style:{height:"calc(100vh - 64px)"}},n.a.createElement("div",{ref:this.mapViewRef,style:{width:"100%",height:"100%"}}),r,t,n.a.createElement(F.a,{title:this.state.navKey,closable:!0,onClose:this.onClose,placement:"left",visible:this.state.navKey,mask:!1,width:340,getContainer:!1,style:{position:"absolute",background:"#f5f5f5",height:"calc(100% - 15px)"},bodyStyle:{padding:"10px",background:"#f5f5f5",minHeight:"calc(100% - 55px)"}},e))))))}}]),t}(n.a.Component)),st=a(155),lt=a.n(st),ct=a(321),ut=a.n(ct),pt=a(322),dt={layerItemId:"baf1358ce8d74342af3340f621688e21",webmapId:"54d46b14f5f74e59a523e0ae46ef8736",initialRendererField:"eventsubtype",renderers:{eventsubtype:{_type:"jsapi",type:"unique-value",field:"eventsubtype",uniqueValueInfos:[{value:"pedestrians",symbol:{type:"picture-marker",url:a.n(pt).a}},{value:"bicycles",symbol:{type:"picture-marker",url:ut.a}}]}},filters:[{name:"eventsubtype",type:"multiselect"}],popupTemplate:{title:"Event information:",content:"Event type: <b>{eventsubtype}</b><br>Project: {project}<br>Event value: {eventvalue}<br>Event timestamp: {eventtimestamp}"},viewConfig:{center:[-74.00157,40.71955],zoom:12}},ht=J.a.Text,mt=Object(w.a)(function(e){function t(e,a){var r;return Object(h.a)(this,t),(r=Object(f.a)(this,Object(y.a)(t).call(this,e,a))).eventFilter=e.store.filters.find((function(e){return"eventsubtype"===e.field})),r}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.eventFilter.domainMap,t=this.eventFilter.options.map((function(t){var a=e.has(t)?e.get(t):t;return n.a.createElement("div",{key:t,style:{margin:"5px 0px 0px 10px"}},n.a.createElement(z.a,{size:"small",style:{float:"left",marginTop:"4px"}}),n.a.createElement(ht,{style:{margin:"0px 0px 0px 5px"}},a))}));return n.a.createElement(n.a.Fragment,null,n.a.createElement(ie,{icon:n.a.createElement(ue.a,{size:"20",style:{position:"relative",top:"4px",left:"0px"}}),title:"Data",collapsible:!0,defaultActive:!0},n.a.createElement(z.a,{onChange:this.onSwitchChange,style:{float:"left",marginTop:"1px"}}),n.a.createElement("h3",{style:{display:"inline-block",margin:"0px 0px 2px 10px"}},"Road Safety Score"),t))}}]),t}(n.a.Component)),ft=b.a.Header,yt=b.a.Content,gt=b.a.Sider,vt=function(){return n.a.createElement(D.a,{size:"18",filled:!0})},bt=function(){return n.a.createElement(I.a,{size:"18",filled:!0})},wt=function(){return n.a.createElement(lt.a,{size:"17",filled:!0})},At=Object(w.a)(function(e){function t(e,a){var r;return Object(h.a)(this,t),(r=Object(f.a)(this,Object(y.a)(t).call(this,e,a))).state={collapsed:!0,loaded:!1,navKey:"Layers"},r.onCollapse=function(e){r.setState({collapsed:e})},r.onSelect=function(e){var t=r.state.navKey===e.key?null:e.key;r.setState({navKey:t})},r.onClose=function(){r.setState({navKey:null})},r.componentDidMount=function(){var e=Object(H.loadModules)(["esri/widgets/Search","esri/widgets/Legend","esri/widgets/TimeSlider"],K),t=r.store.load(r.mapViewRef.current);Promise.all([e,t]).then((function(e){var t=Object(L.a)(e,2),a=Object(L.a)(t[0],3),n=a[0],i=a[1],o=a[2],s=t[1];r.view=s;var l=new n({view:r.view}),c=new i({view:r.view,layerInfos:[{layer:r.store.lyr,title:""}]}),u=new o({container:"timeSlider",mode:"time-window",view:r.view,loop:!1});r.timeSlider=u,r.view.ui.add(u,"top-right"),r.view.ui.add(l,"top-right"),r.view.ui.add(c,"bottom-right"),r.view.ui.move("zoom","top-right")}))},r.mapViewRef=n.a.createRef(),r.sliderRef=n.a.createRef(),r.store=new He(e.appState,dt),r}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e;switch(this.state.navKey){case"Layers":e=n.a.createElement(mt,{store:this.store});break;case"Bookmarks":e=n.a.createElement("h1",null,"Woah this are some awesome bookmarks!");break;case"About":e=n.a.createElement("h1",null,"This is a slick app! Thanks Max!");break;default:e=null}if(this.store.layerLoaded){var t=this.store.lyr.timeInfo.fullTimeExtent;this.timeSlider.fullTimeExtent=t}var a=this.props.appState.displayName?n.a.createElement(R.a,{theme:"dark",mode:"horizontal",style:{lineHeight:"64px",float:"right"}},n.a.createElement(R.a.Item,{key:"sign in"},this.props.appState.displayName)):null;return n.a.createElement(b.a,{style:{minHeight:"100vh"}},n.a.createElement(ft,{style:{paddingLeft:"1rem",paddingRight:"0rem"}},n.a.createElement("h1",{style:{color:"rgba(255,255,255,0.8",float:"left"}},"Mobileye City Lab"),a),n.a.createElement(b.a,null,n.a.createElement(gt,{collapsible:!0,collapsed:this.state.collapsed,onCollapse:this.onCollapse},n.a.createElement(R.a,{defaultSelectedKeys:["0"],mode:"inline",theme:"dark",selectedKeys:[this.state.navKey],onClick:this.onSelect},n.a.createElement(R.a.Item,{key:"Layers"},n.a.createElement(T.a,{component:vt}),n.a.createElement("span",null,"Layers")),n.a.createElement(R.a.Item,{key:"Bookmarks"},n.a.createElement(T.a,{component:bt}),n.a.createElement("span",null,"Bookmarks")),n.a.createElement(R.a.Item,{key:"About"},n.a.createElement(T.a,{component:wt}),n.a.createElement("span",null,"About")))),n.a.createElement(yt,null,n.a.createElement(u.a,null,n.a.createElement(p.a,{span:24,style:{height:"calc(100vh - 64px)"}},n.a.createElement("div",{style:{position:"absolute",left:"30%",right:"15px",bottom:"30px"},ref:this.sliderRef}),n.a.createElement("div",{ref:this.mapViewRef,style:{width:"100%",height:"100%"}}),n.a.createElement(F.a,{closable:!1,placement:"left",visible:this.state.navKey,mask:!1,getContainer:!1,style:{position:"absolute",background:"#f5f5f5"},bodyStyle:{padding:"10px",background:"#f5f5f5",height:"100%"}},e))))))}}]),t}(n.a.Component)),Et=a(156),kt=a.n(Et),Ot=a(128);function jt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}var Ct=Object(w.a)(function(e){function t(){return Object(h.a)(this,t),Object(f.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.store,t=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?jt(a,!0).forEach((function(t){Object(s.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):jt(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},this.props.config),a=t.id,r=t.xField,i=t.yField,o=function(e,t,a){return!e||e.features.length<1?[]:e.features.map((function(e){var r;return r={},Object(s.a)(r,t,e.attributes[t]),Object(s.a)(r,a,e.attributes[a]),r}))}(e.chartResultMap.get(a),r,i);return n.a.createElement(Ot.b,{width:320,height:400,data:o,margin:{top:15,right:0,left:0,bottom:0},layout:"vertical"},n.a.createElement(Ot.c,{type:"number",tick:{fontSize:8}}),n.a.createElement(Ot.d,{type:"category",dataKey:r,tick:{fontSize:8},width:50}),n.a.createElement(Ot.a,{dataKey:i,fill:"#8884d8"}))}}]),t}(r.Component)),xt=Object(w.a)(function(e){function t(){return Object(h.a)(this,t),Object(f.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.props.store.charts.map((function(t){return n.a.createElement("div",{key:t.id},n.a.createElement("h4",null,t.title),function(e,t){var a=e;switch(a.type){case"bar":return n.a.createElement(Ct,{config:a,store:t});default:throw new Error("Unknown chart type!")}}(t,e.props.store))}));return n.a.createElement(ie,{title:"Charts",icon:n.a.createElement(kt.a,{size:"20",style:{position:"relative",top:"3px",left:"0px"}}),collapsible:!0,defaultActive:!0},t)}}]),t}(n.a.Component)),Bt=(a(650),Object(w.a)(function(e){function t(){var e,a;Object(h.a)(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(a=Object(f.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(n)))).onToggle=function(){a.props.store.toggleLayerVisibility(a.props.layer)},a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.store.layerVisibleMap,t=this.props.layer,a=e.has(t.id)&&e.get(t.id);return n.a.createElement("div",null,n.a.createElement(z.a,{defaultChecked:!0,checked:a,onChange:this.onToggle,className:"layer-list-switch"}),n.a.createElement("h3",{className:"layer-list-header"},this.props.layer.title))}}]),t}(n.a.Component))),St=Object(w.a)(function(e){function t(){return Object(h.a)(this,t),Object(f.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.props.store.layers.map((function(t){return n.a.createElement(Bt,{key:t.id,layer:t,store:e.props.store})}));return n.a.createElement(n.a.Fragment,null,n.a.createElement(ie,{icon:n.a.createElement(ue.a,{size:"20",style:{position:"relative",top:"4px",left:"0px"}}),title:"Layer List",collapsible:!0,defaultActive:!0},t))}}]),t}(n.a.Component));function Ft(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Rt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ft(a,!0).forEach((function(t){Object(s.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ft(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Tt={layerItemId:"442c06a8034b4aba9232bd61bd36f0f9",webmapId:"e89e13f2f6174777bcd81073c4158ce6",initialRendererField:"all",renderers:{all:{_type:"jsapi",type:"unique-value",field:"system_type_group",defaultSymbol:{type:"simple-marker",color:"blue"},visualVariables:[{type:"opacity",field:"comparsion_to_prev_map",stops:[{value:"2",opacity:.3},{value:"1",opacity:1},{value:"0",opacity:1}]}],uniqueValueInfos:[{value:0,symbol:{type:"simple-marker",color:"red"}},{value:1,symbol:{type:"simple-marker",color:"purple"}},{value:2,symbol:{type:"simple-marker",color:"blue"}},{value:3,symbol:{type:"simple-marker",color:"green"}},{value:4,symbol:{type:"simple-marker",color:"yellow"}}]}},filters:[{name:"system_type",type:"multiselect",params:{dynamic:!0}},{name:"comparsion_to_prev_map",type:"multiselect",params:{dynamic:!0}},{name:"map_version",type:"select",params:{dynamic:!0}}],charts:[{id:"system_type_group_label",type:"bar",title:"Landmark Type",xField:"system_type_group_label",yField:"countOFsystem_type_group",queryDefinition:{where:"1=1",outFields:"*",orderByFields:"countOFsystem_type_group",groupByFieldsForStatistics:"system_type_group",outStatistics:[{onStatisticField:"system_type_group",outStatisticFieldName:"countOFsystem_type_group",statisticType:"count"}]},resultTransform:function(e){if(!e||!e.features||e.features.length<1)return e;var t=e.fields.find((function(e){return"system_type_group"===e.name})),a=Be(t.domain),r=e.features.map((function(e){var t=e.attributes,r=e.attributes.system_type_group;return{attributes:Rt({},t,{system_type_group_label:a.has(r)?a.get(r):r})}}));return e.features=r,e}},{id:"system_type_label",type:"bar",title:"Specific Landmark type",xField:"system_type_label",yField:"countOFsystem_type",queryDefinition:{where:"1=1",outFields:"*",orderByFields:"countOFsystem_type",groupByFieldsForStatistics:"system_type",outStatistics:[{onStatisticField:"system_type",outStatisticFieldName:"countOFsystem_type",statisticType:"count"}]},resultTransform:function(e){if(!e||!e.features||e.features.length<1)return e;var t=e.fields.find((function(e){return"system_type"===e.name})),a=Be(t.domain),r=e.features.map((function(e){var t=e.attributes,r=e.attributes.system_type;return{attributes:Rt({},t,{system_type_label:a.has(r)?a.get(r):r})}}));return e.features=r,e}}],popupTemplate:{title:"{expression/title-prefix} {system_type} {expression/title_suffix}",content:[{type:"text",text:"Type: <b>{expression/type-expr}</b> <br>Detected at {publish_date} (version {map_version})<br>Size: {height} X {width} m<br>"}],expressionInfos:[{name:"type-expr",title:"Type",expression:"When($feature.system_type_group == 0, $feature.traffic_sign_type,$feature.system_type_group == 1, 'Traffic Light',$feature.system_type_group == 2, $feature.road_marking_type,$feature.system_type_group == 3, $feature.pole_type,'')"},{name:"title-prefix",title:"Title Prefix",expression:"When($feature.comparsion_to_prev_map == 2, 'Missing', $feature.comparsion_to_prev_map == 1, 'New',  '')"},{name:"title-suffix",title:"Title Suffix",expression:"When(($feature.comparsion_to_prev_map == 2) ||  ($feature.comparsion_to_prev_map == 1), '',  'information')"}]},viewConfig:{center:[-73.974051,40.762746],zoom:16}},Lt=b.a.Header,Mt=b.a.Content,Dt=b.a.Sider,Vt=function(){return n.a.createElement(D.a,{size:"18",filled:!0})},It=function(){return n.a.createElement(kt.a,{size:"18",filled:!0})},Qt=function(){return n.a.createElement(I.a,{size:"18",filled:!0})},Nt=function(){return n.a.createElement(lt.a,{size:"17",filled:!0})},Ht=Object(w.a)(function(e){function t(e,a){var r;return Object(h.a)(this,t),(r=Object(f.a)(this,Object(y.a)(t).call(this,e,a))).state={collapsed:!0,loaded:!1,navKey:"Layers"},r.onCollapse=function(e){r.setState({collapsed:e})},r.onSelect=function(e){var t=r.state.navKey===e.key?null:e.key;r.setState({navKey:t})},r.onClose=function(){r.setState({navKey:null})},r.componentDidMount=function(){var e=Object(H.loadModules)(["esri/widgets/Search"],K),t=r.store.load(r.mapViewRef.current);Promise.all([e,t]).then((function(e){var t=Object(L.a)(e,2),a=Object(L.a)(t[0],2),n=a[0],i=(a[1],t[1]);r.view=i;var o=new n({view:r.view});r.view.ui.add(o,"top-right"),r.view.ui.move("zoom","top-right")}))},r.mapViewRef=n.a.createRef(),r.store=new He(e.appState,Tt),r}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e;switch(this.state.navKey){case"Layers":e=n.a.createElement("div",null,n.a.createElement(St,{store:this.store}),n.a.createElement(le,{store:this.store,defaultActive:!0}));break;case"Histograms":e=n.a.createElement(xt,{store:this.store});break;case"Saved Locations":e=n.a.createElement(qe,{store:this.store});break;case"About":e=n.a.createElement("h1",null,"This application presents the various assets Mobileye is able to survey and map");break;default:e=null}var t=this.props.appState.displayName?n.a.createElement(R.a,{theme:"dark",mode:"horizontal",style:{lineHeight:"64px",float:"right"}},n.a.createElement(R.a.Item,{key:"sign in",onClick:this.onSignOutClick},n.a.createElement(T.a,{type:"logout"}),this.props.appState.displayName)):null;return n.a.createElement(b.a,{style:{minHeight:"100vh"}},n.a.createElement(Lt,{style:{paddingLeft:"1rem",paddingRight:"0rem"}},n.a.createElement("h1",{style:{color:"rgba(255,255,255,0.8",float:"left"}},"Streets Survey"),t),n.a.createElement(b.a,null,n.a.createElement(Dt,{collapsible:!0,collapsed:this.state.collapsed,onCollapse:this.onCollapse},n.a.createElement(R.a,{defaultSelectedKeys:["0"],mode:"inline",theme:"dark",selectedKeys:[this.state.navKey],onClick:this.onSelect},n.a.createElement(R.a.Item,{key:"Layers"},n.a.createElement(T.a,{component:Vt}),n.a.createElement("span",null,"Layers")),n.a.createElement(R.a.Item,{key:"Histograms"},n.a.createElement(T.a,{component:It}),n.a.createElement("span",null,"Histograms")),n.a.createElement(R.a.Item,{key:"Saved Locations"},n.a.createElement(T.a,{component:Qt}),n.a.createElement("span",null,"Saved Locations")),n.a.createElement(R.a.Item,{key:"About"},n.a.createElement(T.a,{component:Nt}),n.a.createElement("span",null,"About")))),n.a.createElement(Mt,null,n.a.createElement(u.a,null,n.a.createElement(p.a,{span:24,style:{height:"calc(100vh - 64px)"}},n.a.createElement("div",{ref:this.mapViewRef,style:{width:"100%",height:"100%"}}),n.a.createElement(F.a,{title:this.state.navKey,closable:!0,onClose:this.onClose,placement:"left",visible:this.state.navKey,mask:!1,width:320,getContainer:!1,style:{position:"absolute",background:"#f5f5f5",height:"calc(100% - 15px)"},bodyStyle:{padding:"10px",background:"#f5f5f5",height:"100%"}},e))))))}}]),t}(n.a.Component)),Kt={appId:"o3Zbi02dIsAez6sL",portalUrl:"https://www.arcgis.com/sharing"};function zt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}var Gt=b.a.Content,Jt=Kt.appId,Pt=function(e){return O.a.completeOAuth2({clientId:Jt}),n.a.createElement("div",null)},Yt=Object(w.a)((function(e){var t=e.Component,a=e.appState,r=Object(v.a)(e,["Component","appState"]),i=a.isAuthenticated;return n.a.createElement(A.b,Object.assign({},r,{render:function(e){return!0===i?n.a.createElement(t,Object.assign({appState:a},e)):n.a.createElement(A.a,{to:{pathname:"/",state:{from:e.location}}})}}))})),qt=Object(w.a)(function(e){function t(){return Object(h.a)(this,t),Object(f.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){Object(H.loadScript)(K)}},{key:"render",value:function(){var e=this.props.appState,t=e.isAuthenticated?n.a.createElement("h1",null,"Hello ",n.a.createElement("b",null,e.displayName),", please select the application you would like to use:"):n.a.createElement(d.a,{type:"primary",size:"large",onClick:e.login},"Log in to get started"),a=(this.props.location.state||{from:null}).from;if(e.redirectToReferrer&&a)return n.a.createElement(A.a,{to:a});var r="ant-btn ant-btn-primary ant-btn-background-ghost ant-btn-block ant-btn ant-btn-lg";return n.a.createElement(b.a,{style:{minHeight:"100vh"}},n.a.createElement(Gt,{style:{padding:"50px 50px"}},n.a.createElement(u.a,{type:"flex",justify:"space-around",align:"middle"},n.a.createElement(p.a,{style:{textAlign:"center"}},t)),n.a.createElement(c.a,null),n.a.createElement(u.a,{type:"flex",justify:"space-around",align:"middle"},n.a.createElement(p.a,{md:{span:0},xl:{span:2}}),n.a.createElement(p.a,{md:{span:6},xl:{span:4}},n.a.createElement(l.a,{cover:n.a.createElement("img",{alt:"example",src:S.a})},n.a.createElement(E.c,{to:"/safety",className:r,disabled:!e.isAuthenticated},"Explore Safety"))),n.a.createElement(p.a,{md:{span:6},xl:{span:4}},n.a.createElement(l.a,{cover:n.a.createElement("img",{alt:"example",src:S.a})},n.a.createElement(E.c,{to:"/events",className:r,disabled:!e.isAuthenticated},"Explore Events"))),n.a.createElement(p.a,{md:{span:6},xl:{span:4}},n.a.createElement(l.a,{cover:n.a.createElement("img",{alt:"example",src:S.a})},n.a.createElement(E.c,{to:"/survey",className:r,disabled:!e.isAuthenticated},"Explore Survey"))),n.a.createElement(p.a,{md:{span:0},xl:{span:2}}))))}}]),t}(n.a.Component)),Xt=function(e){function t(e,a){var r;Object(h.a)(this,t);return(r=Object(f.a)(this,Object(y.a)(t).call(this,e,a))).appState=new x(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?zt(a,!0).forEach((function(t){Object(s.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):zt(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},Kt,{relativeRedirectUri:""})),console.log("v 0.0.0.6"),r}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return window.location.hash.includes("access_token=")?n.a.createElement(E.a,null,n.a.createElement(A.b,{path:"/",component:Pt})):n.a.createElement(E.b,null,n.a.createElement(A.b,{path:"/",exact:!0,render:function(t){return n.a.createElement(qt,Object.assign({},t,{appState:e.appState}))}}),n.a.createElement(Yt,{path:"/safety",appState:this.appState,Component:ot}),n.a.createElement(Yt,{path:"/events",appState:this.appState,Component:At}),n.a.createElement(Yt,{path:"/survey",appState:this.appState,Component:Ht}))}}]),t}(n.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(n.a.createElement(Xt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[364,1,2]]]);
//# sourceMappingURL=main.1fd6e476.chunk.js.map